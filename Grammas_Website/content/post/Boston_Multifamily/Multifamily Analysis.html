<script src="Multifamily Analysis_files/header-attrs/header-attrs.js"></script>
<script src="Multifamily Analysis_files/htmlwidgets/htmlwidgets.js"></script>
<script src="Multifamily Analysis_files/plotly-binding/plotly.js"></script>
<script src="Multifamily Analysis_files/typedarray/typedarray.min.js"></script>
<script src="Multifamily Analysis_files/jquery/jquery.min.js"></script>
<link href="Multifamily Analysis_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="Multifamily Analysis_files/crosstalk/js/crosstalk.min.js"></script>
<link href="Multifamily Analysis_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="Multifamily Analysis_files/plotly-main/plotly-latest.min.js"></script>


<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.5     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.4     ✓ stringr 1.4.0
## ✓ readr   2.0.2     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(here)</code></pre>
<pre><code>## here() starts at /Users/nickgrammas/Desktop/website_setup/Grammas_Website</code></pre>
<pre class="r"><code>boston_original_df &lt;- read_csv(here(&quot;Data/zillow-boston.csv&quot;))</code></pre>
<pre><code>## Rows: 836 Columns: 20</code></pre>
<pre><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr   (8): address, street_name, city, rstate, postcode, property_type, prop...
## dbl  (11): property_id, latitude, longitude, price, zestimate, bedroom_numbe...
## dttm  (1): RunDate</code></pre>
<pre><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>##view(boston_original_df)
boston_MA_df &lt;- boston_original_df %&gt;% filter(rstate == &quot;MA&quot;)
boston_MA_df &lt;- boston_MA_df %&gt;% arrange(desc(price))
##view(boston_MA_df)</code></pre>
<p>##Creation of new variables</p>
<p>###Cap rate data for boston
<a href="https://blogs.umass.edu/kmfay/2022/02/21/quincy-ma-average-property-noi/" class="uri">https://blogs.umass.edu/kmfay/2022/02/21/quincy-ma-average-property-noi/</a>
according to this blog from Umass Boston the average NOI for Boston homes is $6,915</p>
<pre class="r"><code>boston_add_df &lt;- boston_MA_df %&gt;% mutate(cap_rate = 6915/price) %&gt;%
  filter(!is.na(bedroom_number)) %&gt;% mutate(price_per_bedroom = price/bedroom_number)
boston_add_df</code></pre>
<pre><code>## # A tibble: 766 × 22
##    property_id address     street_name  city  rstate latitude longitude postcode
##          &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
##  1    59166243 30 Chestnu… Chestnut St  Bost… MA         42.4     -71.1 02108   
##  2  2107626553 63 Mount V… Mount Verno… Bost… MA         42.4     -71.1 02108   
##  3    59166308 17 Louisbu… Louisburg Sq Bost… MA         42.4     -71.1 02108   
##  4  2117794141 318 Beacon… Beacon St    Bost… MA         42.4     -71.1 02116   
##  5   333605731 1 Dalton S… Dalton St #… Bost… MA         42.3     -71.1 02115   
##  6    90141410 776 Boylst… Boylston St… Bost… MA         42.3     -71.1 02199   
##  7    59163970 10 Rowes W… Rowes Wharf… Bost… MA         42.4     -71.1 02110   
##  8    90141331 776 Boylst… Boylston St… Bost… MA         42.3     -71.1 02199   
##  9    61319917 2 Avery St… Avery St AP… Bost… MA         42.4     -71.1 02111   
## 10  2075168741 2 Avery St… Avery St AP… Bost… MA         NA        NA   02111   
## # … with 756 more rows, and 14 more variables: price &lt;dbl&gt;, zestimate &lt;dbl&gt;,
## #   bedroom_number &lt;dbl&gt;, bathroom_number &lt;dbl&gt;, price_per_unit &lt;dbl&gt;,
## #   living_space &lt;dbl&gt;, land_space &lt;dbl&gt;, property_type &lt;chr&gt;,
## #   property_status &lt;chr&gt;, agency_name &lt;chr&gt;, zillow_owned &lt;dbl&gt;,
## #   RunDate &lt;dttm&gt;, cap_rate &lt;dbl&gt;, price_per_bedroom &lt;dbl&gt;</code></pre>
<pre class="r"><code>ggplot(data = boston_add_df, aes(x = bedroom_number, y = price)) +
  geom_col() +
  facet_wrap( ~ property_type)</code></pre>
<p><img src="/post/Boston_Multifamily/Multifamily%20Analysis_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>boston_multifamily &lt;- boston_add_df %&gt;% filter(property_type == &quot;MULTI_FAMILY&quot;) %&gt;%
  mutate(avg_price = sum(price) / 38) %&gt;%
  mutate(projected_rental_income = living_space * 4.50) %&gt;%
  mutate(down_payment = price * .20) %&gt;%
  mutate(principal = price - down_payment) %&gt;%
  mutate(projected_mortgage_payment = ((principal/330) * 1.042)) %&gt;%
  mutate(projected_mortgage_yr = projected_mortgage_payment * 12) %&gt;%
  mutate(projected_rental_income_yr = (projected_rental_income * 12)) %&gt;%
  mutate(ROI = (projected_rental_income_yr - projected_mortgage_yr) / projected_mortgage_yr) %&gt;%
  mutate(down_return = projected_rental_income_yr/down_payment * 100)



boston_multifamily</code></pre>
<pre><code>## # A tibble: 38 × 31
##    property_id address      street_name city  rstate latitude longitude postcode
##          &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
##  1  2117794141 318 Beacon … Beacon St   Bost… MA         42.4     -71.1 02116   
##  2  2109488118 37 Joy St, … Joy St      Bost… MA         42.4     -71.1 02114   
##  3  2107682803 7 Anderson … Anderson St Bost… MA         NA        NA   02114   
##  4  2067588931 67-69 W Ced… 69 W Cedar… Bost… MA         NA        NA   02114   
##  5  2067247949 44-46 Lexin… 46 Lexingt… Bost… MA         42.4     -71.0 02128   
##  6  2066837539 9R Trenton … Trenton St  Bost… MA         42.4     -71.0 02128   
##  7  2066559353 538 Tremont… Tremont St… Bost… MA         42.3     -71.1 02118   
##  8  2079779704 47 Revere S… Revere St   Bost… MA         42.4     -71.1 02114   
##  9  2102669520 304 Shawmut… Shawmut Ave Bost… MA         42.3     -71.1 02118   
## 10  2099167865 489 E Broad… E Broadway  Bost… MA         42.3     -71.0 02127   
## # … with 28 more rows, and 23 more variables: price &lt;dbl&gt;, zestimate &lt;dbl&gt;,
## #   bedroom_number &lt;dbl&gt;, bathroom_number &lt;dbl&gt;, price_per_unit &lt;dbl&gt;,
## #   living_space &lt;dbl&gt;, land_space &lt;dbl&gt;, property_type &lt;chr&gt;,
## #   property_status &lt;chr&gt;, agency_name &lt;chr&gt;, zillow_owned &lt;dbl&gt;,
## #   RunDate &lt;dttm&gt;, cap_rate &lt;dbl&gt;, price_per_bedroom &lt;dbl&gt;, avg_price &lt;dbl&gt;,
## #   projected_rental_income &lt;dbl&gt;, down_payment &lt;dbl&gt;, principal &lt;dbl&gt;,
## #   projected_mortgage_payment &lt;dbl&gt;, projected_mortgage_yr &lt;dbl&gt;, …</code></pre>
<p>###Links
mutate(ROI = ((projected_rental_income_yr - projected_mortage_yr) / projected_mortgage_yr))
###average rent per square foot
<a href="https://www.statista.com/statistics/879118/rent-per-square-foot-in-apartments-by-state-usa/" class="uri">https://www.statista.com/statistics/879118/rent-per-square-foot-in-apartments-by-state-usa/</a></p>
<p><a href="https://www.rentcafe.com/average-rent-market-trends/us/ma/boston/" class="uri">https://www.rentcafe.com/average-rent-market-trends/us/ma/boston/</a></p>
<pre class="r"><code>library(plotly)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>plot1 &lt;- ggplot(data = boston_multifamily, aes(x = living_space, y = price, 
                                               label = address)) +
  geom_point() +
  geom_smooth()

ggplotly(plot1, tooltip = &#39;label&#39;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":[10500,8232,7520,7800,10543,8417,4400,4466,3872,5990,4665,5928,4425,4740,7993,3714,3816,2864,3740,3100,6987,3332,2288,2502,2141,2725,5445,5000,2102,4053,4440,2432,1547,3168,2478,1830,2288,5542],"y":[13750000,6900000,6470000,5400000,5250000,4900000,4750000,4250000,4200000,3795000,3600000,3445000,3199000,2999000,2999000,2950000,2500000,2500000,2486886,2350000,2295000,2000000,1887500,1875000,1799999,1750000,1649900,1550000,1499000,1499000,1489000,1435000,1399000,1395000,999000,950000,850000,780000],"text":["address: 318 Beacon St, Boston, MA 02116","address: 37 Joy St, Boston, MA 02114","address: 7 Anderson St, Boston, MA 02114","address: 67-69 W Cedar St #71, Boston, MA 02114","address: 44-46 Lexington St, Boston, MA 02128","address: 9R Trenton St, Boston, MA 02128","address: 538 Tremont St #1-4, Boston, MA 02118","address: 47 Revere St, Boston, MA 02114","address: 304 Shawmut Ave, Boston, MA 02118","address: 489 E Broadway, Boston, MA 02127","address: 58 Prince St, Boston, MA 02113","address: 506 E Broadway, Boston, MA 02127","address: 592A E Broadway, Boston, MA 02127","address: 820-824 Huntington Ave, Boston, MA 02115","address: 28-30 Mercer St, Boston, MA 02127","address: 12 O St, Boston, MA 02127","address: 32 Parmenter St, Boston, MA 02113","address: 21 Henchman St, Boston, MA 02113","address: 187 Webster St, Boston, MA 02128","address: 163-165A Salem St, Boston, MA 02113","address: 226-228 Princeton St, Boston, MA 02128","address: 584-586 E Broadway, Boston, MA 02127","address: 222 Calumet St, Boston, MA 02120","address: 46 Sheridan St, Boston, MA 02130","address: 98-100 Marginal St, Boston, MA 02128","address: 853 E 4th St, Boston, MA 02127","address: 951 Blue Hill Ave, Boston, MA 02124","address: 57 Bennington St, Boston, MA 02128","address: 43 School St, Boston, MA 02129","address: 6 Danny Rd, Boston, MA 02136","address: 126 Marion St, Boston, MA 02128","address: 9 Boston St, Boston, MA 02127","address: 465 E 8th St, Boston, MA 02127","address: 3381 Washington St, Boston, MA 02130","address: 87-89 Nottinghill Rd, Boston, MA 02135","address: 3 Magnolia Pl, Boston, MA 02125","address: 21 Forest St #23, Boston, MA 02119","address: 151 Townsend St, Boston, MA 02121"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1547,1660.87341772152,1774.74683544304,1888.62025316456,2002.49367088608,2116.3670886076,2230.24050632911,2344.11392405063,2457.98734177215,2571.86075949367,2685.73417721519,2799.60759493671,2913.48101265823,3027.35443037975,3141.22784810127,3255.10126582278,3368.9746835443,3482.84810126582,3596.72151898734,3710.59493670886,3824.46835443038,3938.3417721519,4052.21518987342,4166.08860759494,4279.96202531646,4393.83544303797,4507.70886075949,4621.58227848101,4735.45569620253,4849.32911392405,4963.20253164557,5077.07594936709,5190.94936708861,5304.82278481013,5418.69620253165,5532.56962025316,5646.44303797468,5760.3164556962,5874.18987341772,5988.06329113924,6101.93670886076,6215.81012658228,6329.6835443038,6443.55696202532,6557.43037974684,6671.30379746835,6785.17721518987,6899.05063291139,7012.92405063291,7126.79746835443,7240.67088607595,7354.54430379747,7468.41772151899,7582.29113924051,7696.16455696203,7810.03797468354,7923.91139240506,8037.78481012658,8151.6582278481,8265.53164556962,8379.40506329114,8493.27848101266,8607.15189873418,8721.0253164557,8834.89873417722,8948.77215189873,9062.64556962025,9176.51898734177,9290.39240506329,9404.26582278481,9518.13924050633,9632.01265822785,9745.88607594937,9859.75949367089,9973.63291139241,10087.5063291139,10201.3797468354,10315.253164557,10429.1265822785,10543],"y":[1130947.67287561,1180786.20383318,1232779.21761914,1287849.87663093,1346921.34326597,1410894.43282209,1478775.02327332,1549921.17634264,1625789.5540011,1705019.85118792,1785806.80618722,1871493.45697369,1975767.65249818,2094129.87215392,2220571.26872203,2349082.99498362,2473656.20371977,2588282.04771159,2686951.67974019,2763656.25258666,2858307.34459401,2975495.65396106,3045843.70540817,3048771.0649111,3020823.12498614,2976801.68491211,2931506.858131,2899738.75808477,2887234.52986174,2868835.96261773,2844475.43488859,2817243.30213722,2790229.91982654,2766525.64341942,2749220.82837879,2741405.83016754,2746171.00424858,2766606.70608479,2805803.2911391,2864639.13660917,2932969.96930034,3008841.24119329,3091947.39859637,3181982.88781797,3278642.15516647,3381619.64695024,3490609.80947766,3605307.08905712,3725405.93199698,3850600.78460563,3980586.09319144,4115056.3040628,4253705.86352807,4396229.21789564,4542320.81347389,4691675.09657119,4843986.51349592,4999130.72600107,5158621.94474897,5322844.23947521,5491767.29873464,5665360.81108211,5843594.46507248,6026437.9492606,6213860.95220131,6405833.16244948,6602324.26855995,6803303.95908758,7008741.92258723,7218607.84761373,7432871.42272194,7651502.33646672,7874470.27740292,8101744.9340854,8333295.99506899,8569093.14890856,8809106.08415896,9053304.48937504,9301658.05311165,9554136.46392365],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1547,1660.87341772152,1774.74683544304,1888.62025316456,2002.49367088608,2116.3670886076,2230.24050632911,2344.11392405063,2457.98734177215,2571.86075949367,2685.73417721519,2799.60759493671,2913.48101265823,3027.35443037975,3141.22784810127,3255.10126582278,3368.9746835443,3482.84810126582,3596.72151898734,3710.59493670886,3824.46835443038,3938.3417721519,4052.21518987342,4166.08860759494,4279.96202531646,4393.83544303797,4507.70886075949,4621.58227848101,4735.45569620253,4849.32911392405,4963.20253164557,5077.07594936709,5190.94936708861,5304.82278481013,5418.69620253165,5532.56962025316,5646.44303797468,5760.3164556962,5874.18987341772,5988.06329113924,6101.93670886076,6215.81012658228,6329.6835443038,6443.55696202532,6557.43037974684,6671.30379746835,6785.17721518987,6899.05063291139,7012.92405063291,7126.79746835443,7240.67088607595,7354.54430379747,7468.41772151899,7582.29113924051,7696.16455696203,7810.03797468354,7923.91139240506,8037.78481012658,8151.6582278481,8265.53164556962,8379.40506329114,8493.27848101266,8607.15189873418,8721.0253164557,8834.89873417722,8948.77215189873,9062.64556962025,9176.51898734177,9290.39240506329,9404.26582278481,9518.13924050633,9632.01265822785,9745.88607594937,9859.75949367089,9973.63291139241,10087.5063291139,10201.3797468354,10315.253164557,10429.1265822785,10543,10543,10543,10429.1265822785,10315.253164557,10201.3797468354,10087.5063291139,9973.63291139241,9859.75949367089,9745.88607594937,9632.01265822785,9518.13924050633,9404.26582278481,9290.39240506329,9176.51898734177,9062.64556962025,8948.77215189873,8834.89873417722,8721.0253164557,8607.15189873418,8493.27848101266,8379.40506329114,8265.53164556962,8151.6582278481,8037.78481012658,7923.91139240506,7810.03797468354,7696.16455696203,7582.29113924051,7468.41772151899,7354.54430379747,7240.67088607595,7126.79746835443,7012.92405063291,6899.05063291139,6785.17721518987,6671.30379746835,6557.43037974684,6443.55696202532,6329.6835443038,6215.81012658228,6101.93670886076,5988.06329113924,5874.18987341772,5760.3164556962,5646.44303797468,5532.56962025316,5418.69620253165,5304.82278481013,5190.94936708861,5077.07594936709,4963.20253164557,4849.32911392405,4735.45569620253,4621.58227848101,4507.70886075949,4393.83544303797,4279.96202531646,4166.08860759494,4052.21518987342,3938.3417721519,3824.46835443038,3710.59493670886,3596.72151898734,3482.84810126582,3368.9746835443,3255.10126582278,3141.22784810127,3027.35443037975,2913.48101265823,2799.60759493671,2685.73417721519,2571.86075949367,2457.98734177215,2344.11392405063,2230.24050632911,2116.3670886076,2002.49367088608,1888.62025316456,1774.74683544304,1660.87341772152,1547,1547],"y":[-930881.244087789,-594091.61645178,-287325.509530935,-14029.771148117,222590.865071426,420704.666004262,578970.235658994,699190.73960652,790945.571000744,862445.371316117,920768.991848544,980012.578765783,1068472.58996495,1178949.31534382,1299407.05306683,1419036.10041879,1530489.96534933,1630627.87689641,1719718.88951439,1799555.87415148,1911757.42515965,2028146.32844135,2089959.89083961,2108674.65318254,2096858.61423099,2058805.08594091,2009095.72134457,1971746.97508125,1961826.3029028,1947663.26818994,1924172.82392665,1890809.36845538,1848525.42267442,1800272.09602759,1751021.14739733,1707346.5281055,1676786.73847654,1667214.09373012,1686309.73009786,1737883.39413146,1807638.35025973,1891125.50499545,1986068.53144815,2090158.14762687,2201148.44016865,2316967.68134643,2435840.08179681,2556404.70903681,2677809.75157542,2799759.18842556,2922497.41039742,3046732.58826922,3173513.99066951,3304084.88058237,3439729.16021536,3581619.88254009,3730665.87436086,3887122.41988177,4048753.608348,4214510.28074417,4383781.6525645,4555894.08284885,4730118.15882217,4905681.06560506,5081784.70392529,5257629.16517943,5432440.04542066,5605496.93322002,5776159.62565405,5943888.5799265,6108256.94656301,6268953.06108832,6425774.01418328,6578612.33253168,6727438.52851162,6872282.26789553,7013214.36291449,7150331.02295113,7283741.04346967,7413556.03310424,7413556.03310424,11694716.8947431,11319575.0627536,10956277.9557989,10604997.8054034,10265904.0299216,9939153.46162636,9624877.53563911,9323166.54062257,9034051.61184513,8757485.89888087,8493327.11530095,8241324.2195204,8001110.98495515,7772208.49169925,7554037.15971952,7345937.20047734,7147194.83291613,6957070.77132279,6774827.53931537,6599752.94490478,6431178.19820625,6268490.28114995,6111139.03212038,5957307.15263097,5801730.31060228,5644912.46673241,5488373.55520891,5333897.73638663,5183380.01985638,5038674.77598546,4901442.3807857,4773002.11241855,4654209.46907743,4545379.53715852,4446271.61255406,4356135.87016429,4273807.62800907,4197826.26574459,4126556.97739112,4058301.58834095,3991394.87908687,3925296.85218034,3865999.31843947,3815555.27002061,3775465.13222959,3747420.50936026,3732779.19081126,3731934.41697865,3743677.23581907,3764778.04585053,3790008.65704552,3812642.75682068,3827730.54108829,3853917.99491743,3894798.28388332,3944787.63574129,3988867.47663967,4001727.51997672,3922844.97948077,3804857.26402836,3727756.63102183,3654184.46996598,3545936.21852677,3416822.4420902,3279129.88954844,3141735.48437724,3009310.42896402,2883062.71503141,2762974.33518161,2650844.6205259,2547594.33105972,2460633.53700146,2400651.61307876,2378579.81088764,2401084.19963993,2471251.82146052,2589729.52440998,2752883.94476922,2955664.02411814,3192776.58983902,-930881.244087789],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1097.2,10992.8],"tickmode":"array","ticktext":["2500","5000","7500","10000"],"tickvals":[2500,5000,7500,10000],"categoryorder":"array","categoryarray":["2500","5000","7500","10000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"living_space","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1664925.30629218,14484044.0622044],"tickmode":"array","ticktext":["0e+00","5e+06","1e+07"],"tickvals":[0,5000000,10000000],"categoryorder":"array","categoryarray":["0e+00","5e+06","1e+07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d08f32968f4d":{"x":{},"y":{},"label":{},"type":"scatter"},"d08f3a9a222d":{"x":{},"y":{},"label":{}}},"cur_data":"d08f32968f4d","visdat":{"d08f32968f4d":["function (y) ","x"],"d08f3a9a222d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>plot2 &lt;- ggplot(data = boston_multifamily, aes(x = price, y = projected_rental_income, 
                                               label = address)) +
  geom_point() +
  geom_smooth()
ggplotly(plot2, tooltip = &#39;label&#39;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":[{"x":[13750000,6900000,6470000,5400000,5250000,4900000,4750000,4250000,4200000,3795000,3600000,3445000,3199000,2999000,2999000,2950000,2500000,2500000,2486886,2350000,2295000,2000000,1887500,1875000,1799999,1750000,1649900,1550000,1499000,1499000,1489000,1435000,1399000,1395000,999000,950000,850000,780000],"y":[47250,37044,33840,35100,47443.5,37876.5,19800,20097,17424,26955,20992.5,26676,19912.5,21330,35968.5,16713,17172,12888,16830,13950,31441.5,14994,10296,11259,9634.5,12262.5,24502.5,22500,9459,18238.5,19980,10944,6961.5,14256,11151,8235,10296,24939],"text":["address: 318 Beacon St, Boston, MA 02116","address: 37 Joy St, Boston, MA 02114","address: 7 Anderson St, Boston, MA 02114","address: 67-69 W Cedar St #71, Boston, MA 02114","address: 44-46 Lexington St, Boston, MA 02128","address: 9R Trenton St, Boston, MA 02128","address: 538 Tremont St #1-4, Boston, MA 02118","address: 47 Revere St, Boston, MA 02114","address: 304 Shawmut Ave, Boston, MA 02118","address: 489 E Broadway, Boston, MA 02127","address: 58 Prince St, Boston, MA 02113","address: 506 E Broadway, Boston, MA 02127","address: 592A E Broadway, Boston, MA 02127","address: 820-824 Huntington Ave, Boston, MA 02115","address: 28-30 Mercer St, Boston, MA 02127","address: 12 O St, Boston, MA 02127","address: 32 Parmenter St, Boston, MA 02113","address: 21 Henchman St, Boston, MA 02113","address: 187 Webster St, Boston, MA 02128","address: 163-165A Salem St, Boston, MA 02113","address: 226-228 Princeton St, Boston, MA 02128","address: 584-586 E Broadway, Boston, MA 02127","address: 222 Calumet St, Boston, MA 02120","address: 46 Sheridan St, Boston, MA 02130","address: 98-100 Marginal St, Boston, MA 02128","address: 853 E 4th St, Boston, MA 02127","address: 951 Blue Hill Ave, Boston, MA 02124","address: 57 Bennington St, Boston, MA 02128","address: 43 School St, Boston, MA 02129","address: 6 Danny Rd, Boston, MA 02136","address: 126 Marion St, Boston, MA 02128","address: 9 Boston St, Boston, MA 02127","address: 465 E 8th St, Boston, MA 02127","address: 3381 Washington St, Boston, MA 02130","address: 87-89 Nottinghill Rd, Boston, MA 02135","address: 3 Magnolia Pl, Boston, MA 02125","address: 21 Forest St #23, Boston, MA 02119","address: 151 Townsend St, Boston, MA 02121"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[780000,944177.215189873,1108354.43037975,1272531.64556962,1436708.86075949,1600886.07594937,1765063.29113924,1929240.50632911,2093417.72151899,2257594.93670886,2421772.15189873,2585949.36708861,2750126.58227848,2914303.79746835,3078481.01265823,3242658.2278481,3406835.44303797,3571012.65822785,3735189.87341772,3899367.08860759,4063544.30379747,4227721.51898734,4391898.73417722,4556075.94936709,4720253.16455696,4884430.37974684,5048607.59493671,5212784.81012658,5376962.02531646,5541139.24050633,5705316.4556962,5869493.67088608,6033670.88607595,6197848.10126582,6362025.3164557,6526202.53164557,6690379.74683544,6854556.96202532,7018734.17721519,7182911.39240506,7347088.60759494,7511265.82278481,7675443.03797468,7839620.25316456,8003797.46835443,8167974.6835443,8332151.89873418,8496329.11392405,8660506.32911392,8824683.5443038,8988860.75949367,9153037.97468355,9317215.18987342,9481392.40506329,9645569.62025316,9809746.83544304,9973924.05063291,10138101.2658228,10302278.4810127,10466455.6962025,10630632.9113924,10794810.1265823,10958987.3417722,11123164.556962,11287341.7721519,11451518.9873418,11615696.2025316,11779873.4177215,11944050.6329114,12108227.8481013,12272405.0632911,12436582.278481,12600759.4936709,12764936.7088608,12929113.9240506,13093291.1392405,13257468.3544304,13421645.5696203,13585822.7848101,13750000],"y":[14817.0570429163,14316.5214191536,13996.2187489029,13860.9717524036,13914.8266178886,14180.727021505,14688.74363461,15314.7839136057,16026.6528164727,16851.4075298104,17953.7258374889,19178.4272304008,20565.7537701091,21838.8631162694,22502.7573981389,22671.7840516914,22637.7404052747,22663.3483690479,23011.3298531698,23821.9873421765,24782.9070248177,25827.3765293341,26922.3455056799,28034.7636038091,29131.5804736759,30179.7457652344,31146.2091284387,31997.9202132429,32745.0435842387,33469.4952402963,34174.7951800612,34861.0342014763,35528.3031024846,36176.6926810292,36806.2937350531,37417.1970624992,38009.4934613105,38583.27372943,39138.6286648007,39675.6490653657,40194.4257290679,40695.0494538502,41177.6110376558,41642.2012784275,42088.9109741085,42517.8309226416,42929.0519219699,43322.6647700363,43698.7602647839,44057.4292041557,44398.7623860946,44722.8506085437,45029.7846694459,45319.6553667442,45592.5534983817,45848.5698623012,46087.7952564459,46310.3204787587,46516.2363271826,46705.6335996607,46878.6030941357,47035.2356085509,47175.6219408492,47299.8528889735,47408.019250867,47500.2118244724,47576.521407733,47637.0387985916,47681.8547949912,47711.0601948749,47724.7457961856,47723.0023968663,47705.9207948601,47673.5917881099,47626.1061745587,47563.5547521495,47486.0283188253,47393.6176725291,47286.4136112039,47164.5069327927],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[780000,944177.215189873,1108354.43037975,1272531.64556962,1436708.86075949,1600886.07594937,1765063.29113924,1929240.50632911,2093417.72151899,2257594.93670886,2421772.15189873,2585949.36708861,2750126.58227848,2914303.79746835,3078481.01265823,3242658.2278481,3406835.44303797,3571012.65822785,3735189.87341772,3899367.08860759,4063544.30379747,4227721.51898734,4391898.73417722,4556075.94936709,4720253.16455696,4884430.37974684,5048607.59493671,5212784.81012658,5376962.02531646,5541139.24050633,5705316.4556962,5869493.67088608,6033670.88607595,6197848.10126582,6362025.3164557,6526202.53164557,6690379.74683544,6854556.96202532,7018734.17721519,7182911.39240506,7347088.60759494,7511265.82278481,7675443.03797468,7839620.25316456,8003797.46835443,8167974.6835443,8332151.89873418,8496329.11392405,8660506.32911392,8824683.5443038,8988860.75949367,9153037.97468355,9317215.18987342,9481392.40506329,9645569.62025316,9809746.83544304,9973924.05063291,10138101.2658228,10302278.4810127,10466455.6962025,10630632.9113924,10794810.1265823,10958987.3417722,11123164.556962,11287341.7721519,11451518.9873418,11615696.2025316,11779873.4177215,11944050.6329114,12108227.8481013,12272405.0632911,12436582.278481,12600759.4936709,12764936.7088608,12929113.9240506,13093291.1392405,13257468.3544304,13421645.5696203,13585822.7848101,13750000,13750000,13750000,13585822.7848101,13421645.5696203,13257468.3544304,13093291.1392405,12929113.9240506,12764936.7088608,12600759.4936709,12436582.278481,12272405.0632911,12108227.8481013,11944050.6329114,11779873.4177215,11615696.2025316,11451518.9873418,11287341.7721519,11123164.556962,10958987.3417722,10794810.1265823,10630632.9113924,10466455.6962025,10302278.4810127,10138101.2658228,9973924.05063291,9809746.83544304,9645569.62025316,9481392.40506329,9317215.18987342,9153037.97468355,8988860.75949367,8824683.5443038,8660506.32911392,8496329.11392405,8332151.89873418,8167974.6835443,8003797.46835443,7839620.25316456,7675443.03797468,7511265.82278481,7347088.60759494,7182911.39240506,7018734.17721519,6854556.96202532,6690379.74683544,6526202.53164557,6362025.3164557,6197848.10126582,6033670.88607595,5869493.67088608,5705316.4556962,5541139.24050633,5376962.02531646,5212784.81012658,5048607.59493671,4884430.37974684,4720253.16455696,4556075.94936709,4391898.73417722,4227721.51898734,4063544.30379747,3899367.08860759,3735189.87341772,3571012.65822785,3406835.44303797,3242658.2278481,3078481.01265823,2914303.79746835,2750126.58227848,2585949.36708861,2421772.15189873,2257594.93670886,2093417.72151899,1929240.50632911,1765063.29113924,1600886.07594937,1436708.86075949,1272531.64556962,1108354.43037975,944177.215189873,780000,780000],"y":[6651.301140745,8228.16876196368,9380.93931645533,10046.9529385676,10317.6481327415,10491.2409785238,10836.4296257282,11327.6335720316,11855.2686727087,12105.0164596481,13109.7598144393,14425.4056225831,15913.7453927512,17050.0166047827,17693.7722536212,17962.88067895,17897.8924335797,17717.437757198,17863.4117976315,18664.7874278411,19689.3623910921,20808.6802838753,21950.3784254995,23059.5974914109,24104.0437803617,25071.3479168529,25959.1003706716,26760.5887654428,27461.7182313889,28077.0700777078,28619.4939064381,29101.2121851731,29533.4594919745,29925.9935599,30286.971190954,30623.0419051501,30939.5403572388,31240.7031081299,31529.8716220416,31809.6662620916,32082.1282854162,32348.8323860835,32610.974262085,32869.4378758616,33124.8465592218,33377.6013872402,33627.9095352269,33875.8047215116,34121.161345518,34363.7035479445,34603.0101320544,34838.5160759482,35069.511221765,35295.1366390653,35514.3791195009,35726.0642642735,35928.8486725794,36121.2118264919,36301.4483927924,36467.6618192378,36617.7602801308,36749.4562038476,36860.2707621324,36947.544774097,37008.4574227501,37040.0539397972,37039.2829346643,37003.0433023199,36928.2396664038,36811.8441912854,36650.9614917268,36442.8924956713,36185.1926925016,35875.720384022,35512.6713862496,35094.5979951494,34620.4116868934,34089.3706662785,33501.0547202708,32855.3306871361,32855.3306871361,61473.6831784493,61071.772502137,60697.8646787798,60351.6449507573,60032.5115091496,59739.5409628678,59471.4631921978,59226.6488972186,59003.1122980614,58798.5301006444,58610.2761984643,58435.4699235786,58271.0342948632,58113.7598808017,57960.3697091477,57807.5810789838,57652.1610038501,57490.973119566,57321.0150132543,57139.4459081407,56943.6053800835,56731.0242615729,56499.4291310256,56246.7418403125,55971.0754603289,55670.7278772624,55344.1740944231,54990.0581171268,54607.1851411391,54194.5146401348,53751.154860367,53276.3591840498,52769.524818561,52230.1943087128,51658.060458043,51052.9753889952,50414.9646809935,49744.2478132266,49041.266521617,48306.7231727195,47541.6318686398,46747.3857075599,45925.8443507301,45079.4465653821,44211.3522198483,43325.6162791521,42427.3918021585,41523.1467129948,40620.8562177794,39730.0964536842,38861.9204028849,38028.3689370886,37235.2516610431,36333.3178862058,35288.1436136159,34159.1171669902,33009.9297162074,31894.3125858603,30846.072774793,29876.4516585433,28979.1872565119,28159.2479087081,27609.2589808978,27377.5883769698,27380.6874244328,27311.7425426567,26627.7096277562,25217.7621474671,23931.4488382186,22797.6918605385,21597.7985999727,20198.0369602366,19301.9342551797,18541.0576434917,17870.2130644862,17512.0051030356,17674.9905662395,18611.4981813505,20404.8740763436,22982.8129450876,6651.301140745],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[131500,14398500],"tickmode":"array","ticktext":["5e+06","1e+07"],"tickvals":[5000000,10000000],"categoryorder":"array","categoryarray":["5e+06","1e+07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3910.18203885979,64214.8022803345],"tickmode":"array","ticktext":["20000","40000","60000"],"tickvals":[20000,40000,60000],"categoryorder":"array","categoryarray":["20000","40000","60000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"projected_rental_income","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d08f4f67e005":{"x":{},"y":{},"label":{},"type":"scatter"},"d08f2ca490fd":{"x":{},"y":{},"label":{}}},"cur_data":"d08f4f67e005","visdat":{"d08f4f67e005":["function (y) ","x"],"d08f2ca490fd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>plot3 &lt;- ggplot(data = boston_multifamily, aes(x = projected_mortgage_yr, y = ROI, 
                                               label = address)) +
  geom_point() +
  geom_smooth()
ggplotly(plot3, tooltip = &#39;label&#39;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"data":[{"x":[416800,209157.818181818,196123.345454545,163688.727272727,159141.818181818,148532.363636364,143985.454545455,128829.090909091,127313.454545455,115036.8,109125.818181818,104427.345454545,96970.4145454546,90907.8690909091,90907.8690909091,89422.5454545455,75781.8181818182,75781.8181818182,75384.2970763636,71234.9090909091,69567.7090909091,60625.4545454545,57215.2727272727,56836.3636363636,54562.8787781818,53047.2727272727,50012.9687272727,46984.7272727273,45438.7781818182,45438.7781818182,45135.6509090909,43498.7636363636,42407.5054545455,42286.2545454545,30282.4145454546,28797.0909090909,25765.8181818182,23643.9272727273],"y":[0.360364683301344,1.12532337478094,1.07053371978154,1.57317658349328,2.57745064436523,2.06006037251753,0.650166683503384,0.871968499491927,0.642308746915273,1.81179587749312,1.30843630038388,2.06540397638793,1.46415364026306,1.81559784163499,3.74790581185411,1.24279010377696,1.71917466410749,1.04080614203455,1.67907253675678,1.34997141340303,4.42346449136276,1.9678622840691,1.15942342159118,1.37714011516315,1.11891312535054,1.77394091033726,4.87907511756369,4.74654820134976,1.49804252098968,3.81663479427744,4.31198720237597,2.01912029265618,0.969887148621376,3.04556993375023,3.41880219951237,2.43159662592181,3.79519024500395,11.6572881293371],"text":["address: 318 Beacon St, Boston, MA 02116","address: 37 Joy St, Boston, MA 02114","address: 7 Anderson St, Boston, MA 02114","address: 67-69 W Cedar St #71, Boston, MA 02114","address: 44-46 Lexington St, Boston, MA 02128","address: 9R Trenton St, Boston, MA 02128","address: 538 Tremont St #1-4, Boston, MA 02118","address: 47 Revere St, Boston, MA 02114","address: 304 Shawmut Ave, Boston, MA 02118","address: 489 E Broadway, Boston, MA 02127","address: 58 Prince St, Boston, MA 02113","address: 506 E Broadway, Boston, MA 02127","address: 592A E Broadway, Boston, MA 02127","address: 820-824 Huntington Ave, Boston, MA 02115","address: 28-30 Mercer St, Boston, MA 02127","address: 12 O St, Boston, MA 02127","address: 32 Parmenter St, Boston, MA 02113","address: 21 Henchman St, Boston, MA 02113","address: 187 Webster St, Boston, MA 02128","address: 163-165A Salem St, Boston, MA 02113","address: 226-228 Princeton St, Boston, MA 02128","address: 584-586 E Broadway, Boston, MA 02127","address: 222 Calumet St, Boston, MA 02120","address: 46 Sheridan St, Boston, MA 02130","address: 98-100 Marginal St, Boston, MA 02128","address: 853 E 4th St, Boston, MA 02127","address: 951 Blue Hill Ave, Boston, MA 02124","address: 57 Bennington St, Boston, MA 02128","address: 43 School St, Boston, MA 02129","address: 6 Danny Rd, Boston, MA 02136","address: 126 Marion St, Boston, MA 02128","address: 9 Boston St, Boston, MA 02127","address: 465 E 8th St, Boston, MA 02127","address: 3381 Washington St, Boston, MA 02130","address: 87-89 Nottinghill Rd, Boston, MA 02135","address: 3 Magnolia Pl, Boston, MA 02125","address: 21 Forest St #23, Boston, MA 02119","address: 151 Townsend St, Boston, MA 02121"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23643.9272727273,28620.5864211738,33597.2455696203,38573.9047180667,43550.5638665132,48527.2230149597,53503.8821634062,58480.5413118527,63457.2004602992,68433.8596087457,73410.5187571922,78387.1779056387,83363.8370540852,88340.4962025316,93317.1553509782,98293.8144994246,103270.473647871,108247.132796318,113223.791944764,118200.451093211,123177.110241657,128153.769390104,133130.42853855,138107.087686997,143083.746835443,148060.40598389,153037.065132336,158013.724280783,162990.383429229,167967.042577676,172943.701726122,177920.360874568,182897.020023015,187873.679171461,192850.338319908,197826.997468354,202803.656616801,207780.315765247,212756.974913694,217733.63406214,222710.293210587,227686.952359033,232663.61150748,237640.270655926,242616.929804373,247593.588952819,252570.248101266,257546.907249712,262523.566398159,267500.225546605,272476.884695052,277453.543843498,282430.202991945,287406.862140391,292383.521288838,297360.180437284,302336.839585731,307313.498734177,312290.157882624,317266.81703107,322243.476179517,327220.135327963,332196.79447641,337173.453624856,342150.112773303,347126.771921749,352103.431070196,357080.090218642,362056.749367089,367033.408515535,372010.067663982,376986.726812428,381963.385960875,386940.045109321,391916.704257768,396893.363406214,401870.022554661,406846.681703107,411823.340851554,416800],"y":[6.29332139084497,5.28791484852134,4.40874057367161,3.65832872547029,3.04043469783912,2.56771691598582,2.25578862517218,2.02137203478924,1.93192164795541,1.91725824846526,1.89219864294038,1.87862168105214,1.90233510168299,1.92432551621053,1.87120473547455,1.77691196154792,1.67039312838246,1.57081639139759,1.49734990601272,1.46024574502152,1.43679090261369,1.42217603454236,1.41404383804548,1.41003701036101,1.4077982487269,1.4049702503811,1.39919571256156,1.38811733250624,1.37193123598468,1.3552861772274,1.3383887295813,1.32124632755265,1.30386640564775,1.28625639837287,1.2684237402343,1.25037586573832,1.23212020939122,1.21366420569928,1.19501528916878,1.17618089430601,1.15716845561726,1.1379854076088,1.11863918478692,1.0991372216579,1.07948695272803,1.0596958125036,1.03977123549087,1.01972065619615,0.999551509125704,0.979271228785827,0.958887249682799,0.938407006322905,0.917837933212429,0.897187464857654,0.876463035764863,0.855672080440342,0.834822033390372,0.81392032912124,0.792974402139227,0.771991686950617,0.750979618061695,0.729945629978746,0.70889715720805,0.687841634255894,0.66678649562856,0.645739175832333,0.624707109373497,0.603697730758334,0.582718474493129,0.561776775084165,0.540880067037727,0.520035784860098,0.499251363057562,0.478534236136402,0.457891838602904,0.437331604963349,0.416860969724022,0.396487367391207,0.376218232471188,0.356060999470248],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23643.9272727273,28620.5864211738,33597.2455696203,38573.9047180667,43550.5638665132,48527.2230149597,53503.8821634062,58480.5413118527,63457.2004602992,68433.8596087457,73410.5187571922,78387.1779056387,83363.8370540852,88340.4962025316,93317.1553509782,98293.8144994246,103270.473647871,108247.132796318,113223.791944764,118200.451093211,123177.110241657,128153.769390104,133130.42853855,138107.087686997,143083.746835443,148060.40598389,153037.065132336,158013.724280783,162990.383429229,167967.042577676,172943.701726122,177920.360874568,182897.020023015,187873.679171461,192850.338319908,197826.997468354,202803.656616801,207780.315765247,212756.974913694,217733.63406214,222710.293210587,227686.952359033,232663.61150748,237640.270655926,242616.929804373,247593.588952819,252570.248101266,257546.907249712,262523.566398159,267500.225546605,272476.884695052,277453.543843498,282430.202991945,287406.862140391,292383.521288838,297360.180437284,302336.839585731,307313.498734177,312290.157882624,317266.81703107,322243.476179517,327220.135327963,332196.79447641,337173.453624856,342150.112773303,347126.771921749,352103.431070196,357080.090218642,362056.749367089,367033.408515535,372010.067663982,376986.726812428,381963.385960875,386940.045109321,391916.704257768,396893.363406214,401870.022554661,406846.681703107,411823.340851554,416800,416800,416800,411823.340851554,406846.681703107,401870.022554661,396893.363406214,391916.704257768,386940.045109321,381963.385960875,376986.726812428,372010.067663982,367033.408515535,362056.749367089,357080.090218642,352103.431070196,347126.771921749,342150.112773303,337173.453624856,332196.79447641,327220.135327963,322243.476179517,317266.81703107,312290.157882624,307313.498734177,302336.839585731,297360.180437284,292383.521288838,287406.862140391,282430.202991945,277453.543843498,272476.884695052,267500.225546605,262523.566398159,257546.907249712,252570.248101266,247593.588952819,242616.929804373,237640.270655926,232663.61150748,227686.952359033,222710.293210587,217733.63406214,212756.974913694,207780.315765247,202803.656616801,197826.997468354,192850.338319908,187873.679171461,182897.020023015,177920.360874568,172943.701726122,167967.042577676,162990.383429229,158013.724280783,153037.065132336,148060.40598389,143083.746835443,138107.087686997,133130.42853855,128153.769390104,123177.110241657,118200.451093211,113223.791944764,108247.132796318,103270.473647871,98293.8144994246,93317.1553509782,88340.4962025316,83363.8370540852,78387.1779056387,73410.5187571922,68433.8596087457,63457.2004602992,58480.5413118527,53503.8821634062,48527.2230149597,43550.5638665132,38573.9047180667,33597.2455696203,28620.5864211738,23643.9272727273,23643.9272727273],"y":[4.42050651660228,3.89155209256528,3.35022693777222,2.78358409058669,2.21542235936132,1.72153385315772,1.3722609931291,1.10691971035028,0.975215329004101,0.828674178396617,0.7812357722671,0.788516898180659,0.835397687854476,0.826004297131119,0.768264723972355,0.696925689181304,0.583309716952156,0.436472544787603,0.316675682915864,0.27744272902122,0.268587215539984,0.271138813934033,0.27372394438678,0.268983419149687,0.254733472747473,0.233359980785077,0.209533107869008,0.186936161492912,0.160201369843366,0.118534286315376,0.064281227375149,0.000232024118145935,-0.0710500646739762,-0.147340494396584,-0.226781893738656,-0.307862586284558,-0.389372459766692,-0.470353249572892,-0.550051981381043,-0.627881065296738,-0.703385729294382,-0.776218207517082,-0.846117656800439,-0.912894730481227,-0.976419857492117,-1.03661444131385,-1.09344435630873,-1.14691525917106,-1.19706934636207,-1.24398327615878,-1.28776703995678,-1.32856361543094,-1.36654926716681,-1.40193438071812,-1.43496472525364,-1.46592303894723,-1.49513082055707,-1.5229501906265,-1.54978565705799,-1.57608558380817,-1.60234312077071,-1.62909631213777,-1.65692706678092,-1.68645865742057,-1.7183514279928,-1.75329644414472,-1.79200693182849,-1.83520751899959,-1.8836215197436,-1.93795675769002,-1.99889067899094,-2.06705570540021,-2.14302587504425,-2.22730577606665,-2.32032258777761,-2.42242173086552,-2.53386624809293,-2.65483966006496,-2.78545173256515,-2.92574639620514,-2.92574639620514,3.63786839514564,3.53788819750753,3.44781439484737,3.36758818754097,3.29708494079222,3.23610626498342,3.18437424833945,3.14152860115937,3.10712727512041,3.0806508130664,3.06151030785835,3.04905846872986,3.04260298051626,3.04142115057548,3.04477479580938,3.05192441924992,3.06214192593236,3.07472138119702,3.08898757209526,3.1043023568941,3.1200689577094,3.13573446133644,3.15079084886898,3.16477488733781,3.17726719982792,3.18789079678336,3.19630931043343,3.20222513359167,3.20537762807675,3.20554153932238,3.20252573373044,3.19617236461348,3.18635657156335,3.17298682729047,3.15600606632104,3.13539376294819,3.11116917379703,3.08339602637428,3.05218902273468,3.0177226405289,2.98024285390877,2.94008255971861,2.89768166097145,2.85361287854913,2.80861431776119,2.76362937420725,2.71985329114232,2.67878287596947,2.64226063098716,2.61249623178745,2.59203806813943,2.583661102126,2.58929850351958,2.58885831725412,2.57658051997712,2.56086302470633,2.55109060157234,2.55436373170418,2.57321325515068,2.60499458968739,2.64304876102181,2.67802412910957,2.70516023800757,2.75747653981277,2.85689823391454,2.97414474697675,3.02264673528994,2.9692725155115,2.96872646392362,3.00316151361365,3.0058423185339,2.88862796690672,2.9358243592282,3.13931625721527,3.41389997881393,3.86544703631692,4.5330733603539,5.467254209571,6.68427760447739,8.16613626508766,4.42050651660228],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[3986.12363636364,436457.803636364],"tickmode":"array","ticktext":["1e+05","2e+05","3e+05","4e+05"],"tickvals":[100000,200000,300000,400000],"categoryorder":"array","categoryarray":["1e+05","2e+05","3e+05","4e+05"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"projected_mortgage_yr","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.65489812248226,12.3864398556142],"tickmode":"array","ticktext":["0","4","8","12"],"tickvals":[0,4,8,12],"categoryorder":"array","categoryarray":["0","4","8","12"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"ROI","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d08f1fbd1b64":{"x":{},"y":{},"label":{},"type":"scatter"},"d08f38515283":{"x":{},"y":{},"label":{}}},"cur_data":"d08f1fbd1b64","visdat":{"d08f1fbd1b64":["function (y) ","x"],"d08f38515283":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<table style="width:99%;">
<caption>Table continues below</caption>
<colgroup>
<col width="45%" />
<col width="15%" />
<col width="20%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">address</th>
<th align="center">price</th>
<th align="center">down_payment</th>
<th align="center">principal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">318 Beacon St, Boston, MA
02116</td>
<td align="center">13750000</td>
<td align="center">2750000</td>
<td align="center">1.1e+07</td>
</tr>
<tr class="even">
<td align="center">37 Joy St, Boston, MA 02114</td>
<td align="center">6900000</td>
<td align="center">1380000</td>
<td align="center">5520000</td>
</tr>
<tr class="odd">
<td align="center">7 Anderson St, Boston, MA
02114</td>
<td align="center">6470000</td>
<td align="center">1294000</td>
<td align="center">5176000</td>
</tr>
<tr class="even">
<td align="center">67-69 W Cedar St #71, Boston,
MA 02114</td>
<td align="center">5400000</td>
<td align="center">1080000</td>
<td align="center">4320000</td>
</tr>
<tr class="odd">
<td align="center">44-46 Lexington St, Boston, MA
02128</td>
<td align="center">5250000</td>
<td align="center">1050000</td>
<td align="center">4200000</td>
</tr>
<tr class="even">
<td align="center">9R Trenton St, Boston, MA
02128</td>
<td align="center">4900000</td>
<td align="center">980000</td>
<td align="center">3920000</td>
</tr>
<tr class="odd">
<td align="center">538 Tremont St #1-4, Boston,
MA 02118</td>
<td align="center">4750000</td>
<td align="center">950000</td>
<td align="center">3800000</td>
</tr>
<tr class="even">
<td align="center">47 Revere St, Boston, MA 02114</td>
<td align="center">4250000</td>
<td align="center">850000</td>
<td align="center">3400000</td>
</tr>
<tr class="odd">
<td align="center">304 Shawmut Ave, Boston, MA
02118</td>
<td align="center">4200000</td>
<td align="center">840000</td>
<td align="center">3360000</td>
</tr>
<tr class="even">
<td align="center">489 E Broadway, Boston, MA
02127</td>
<td align="center">3795000</td>
<td align="center">759000</td>
<td align="center">3036000</td>
</tr>
<tr class="odd">
<td align="center">58 Prince St, Boston, MA 02113</td>
<td align="center">3600000</td>
<td align="center">720000</td>
<td align="center">2880000</td>
</tr>
<tr class="even">
<td align="center">506 E Broadway, Boston, MA
02127</td>
<td align="center">3445000</td>
<td align="center">689000</td>
<td align="center">2756000</td>
</tr>
<tr class="odd">
<td align="center">592A E Broadway, Boston, MA
02127</td>
<td align="center">3199000</td>
<td align="center">639800</td>
<td align="center">2559200</td>
</tr>
<tr class="even">
<td align="center">820-824 Huntington Ave,
Boston, MA 02115</td>
<td align="center">2999000</td>
<td align="center">599800</td>
<td align="center">2399200</td>
</tr>
<tr class="odd">
<td align="center">28-30 Mercer St, Boston, MA
02127</td>
<td align="center">2999000</td>
<td align="center">599800</td>
<td align="center">2399200</td>
</tr>
<tr class="even">
<td align="center">12 O St, Boston, MA 02127</td>
<td align="center">2950000</td>
<td align="center">590000</td>
<td align="center">2360000</td>
</tr>
<tr class="odd">
<td align="center">32 Parmenter St, Boston, MA
02113</td>
<td align="center">2500000</td>
<td align="center">5e+05</td>
<td align="center">2e+06</td>
</tr>
<tr class="even">
<td align="center">21 Henchman St, Boston, MA
02113</td>
<td align="center">2500000</td>
<td align="center">5e+05</td>
<td align="center">2e+06</td>
</tr>
<tr class="odd">
<td align="center">187 Webster St, Boston, MA
02128</td>
<td align="center">2486886</td>
<td align="center">497377</td>
<td align="center">1989509</td>
</tr>
<tr class="even">
<td align="center">163-165A Salem St, Boston, MA
02113</td>
<td align="center">2350000</td>
<td align="center">470000</td>
<td align="center">1880000</td>
</tr>
<tr class="odd">
<td align="center">226-228 Princeton St, Boston,
MA 02128</td>
<td align="center">2295000</td>
<td align="center">459000</td>
<td align="center">1836000</td>
</tr>
<tr class="even">
<td align="center">584-586 E Broadway, Boston, MA
02127</td>
<td align="center">2e+06</td>
<td align="center">4e+05</td>
<td align="center">1600000</td>
</tr>
<tr class="odd">
<td align="center">222 Calumet St, Boston, MA
02120</td>
<td align="center">1887500</td>
<td align="center">377500</td>
<td align="center">1510000</td>
</tr>
<tr class="even">
<td align="center">46 Sheridan St, Boston, MA
02130</td>
<td align="center">1875000</td>
<td align="center">375000</td>
<td align="center">1500000</td>
</tr>
<tr class="odd">
<td align="center">98-100 Marginal St, Boston, MA
02128</td>
<td align="center">1799999</td>
<td align="center">360000</td>
<td align="center">1439999</td>
</tr>
<tr class="even">
<td align="center">853 E 4th St, Boston, MA 02127</td>
<td align="center">1750000</td>
<td align="center">350000</td>
<td align="center">1400000</td>
</tr>
<tr class="odd">
<td align="center">951 Blue Hill Ave, Boston, MA
02124</td>
<td align="center">1649900</td>
<td align="center">329980</td>
<td align="center">1319920</td>
</tr>
<tr class="even">
<td align="center">57 Bennington St, Boston, MA
02128</td>
<td align="center">1550000</td>
<td align="center">310000</td>
<td align="center">1240000</td>
</tr>
<tr class="odd">
<td align="center">43 School St, Boston, MA 02129</td>
<td align="center">1499000</td>
<td align="center">299800</td>
<td align="center">1199200</td>
</tr>
<tr class="even">
<td align="center">6 Danny Rd, Boston, MA 02136</td>
<td align="center">1499000</td>
<td align="center">299800</td>
<td align="center">1199200</td>
</tr>
<tr class="odd">
<td align="center">126 Marion St, Boston, MA
02128</td>
<td align="center">1489000</td>
<td align="center">297800</td>
<td align="center">1191200</td>
</tr>
<tr class="even">
<td align="center">9 Boston St, Boston, MA 02127</td>
<td align="center">1435000</td>
<td align="center">287000</td>
<td align="center">1148000</td>
</tr>
<tr class="odd">
<td align="center">465 E 8th St, Boston, MA 02127</td>
<td align="center">1399000</td>
<td align="center">279800</td>
<td align="center">1119200</td>
</tr>
<tr class="even">
<td align="center">3381 Washington St, Boston, MA
02130</td>
<td align="center">1395000</td>
<td align="center">279000</td>
<td align="center">1116000</td>
</tr>
<tr class="odd">
<td align="center">87-89 Nottinghill Rd, Boston,
MA 02135</td>
<td align="center">999000</td>
<td align="center">199800</td>
<td align="center">799200</td>
</tr>
<tr class="even">
<td align="center">3 Magnolia Pl, Boston, MA
02125</td>
<td align="center">950000</td>
<td align="center">190000</td>
<td align="center">760000</td>
</tr>
<tr class="odd">
<td align="center">21 Forest St #23, Boston, MA
02119</td>
<td align="center">850000</td>
<td align="center">170000</td>
<td align="center">680000</td>
</tr>
<tr class="even">
<td align="center">151 Townsend St, Boston, MA
02121</td>
<td align="center">780000</td>
<td align="center">156000</td>
<td align="center">624000</td>
</tr>
</tbody>
</table>
<table style="width:86%;">
<colgroup>
<col width="33%" />
<col width="40%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">projected_mortgage_yr</th>
<th align="center">projected_rental_income_yr</th>
<th align="center">ROI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">416800</td>
<td align="center">567000</td>
<td align="center">0.3604</td>
</tr>
<tr class="even">
<td align="center">209158</td>
<td align="center">444528</td>
<td align="center">1.125</td>
</tr>
<tr class="odd">
<td align="center">196123</td>
<td align="center">406080</td>
<td align="center">1.071</td>
</tr>
<tr class="even">
<td align="center">163689</td>
<td align="center">421200</td>
<td align="center">1.573</td>
</tr>
<tr class="odd">
<td align="center">159142</td>
<td align="center">569322</td>
<td align="center">2.577</td>
</tr>
<tr class="even">
<td align="center">148532</td>
<td align="center">454518</td>
<td align="center">2.06</td>
</tr>
<tr class="odd">
<td align="center">143985</td>
<td align="center">237600</td>
<td align="center">0.6502</td>
</tr>
<tr class="even">
<td align="center">128829</td>
<td align="center">241164</td>
<td align="center">0.872</td>
</tr>
<tr class="odd">
<td align="center">127313</td>
<td align="center">209088</td>
<td align="center">0.6423</td>
</tr>
<tr class="even">
<td align="center">115037</td>
<td align="center">323460</td>
<td align="center">1.812</td>
</tr>
<tr class="odd">
<td align="center">109126</td>
<td align="center">251910</td>
<td align="center">1.308</td>
</tr>
<tr class="even">
<td align="center">104427</td>
<td align="center">320112</td>
<td align="center">2.065</td>
</tr>
<tr class="odd">
<td align="center">96970</td>
<td align="center">238950</td>
<td align="center">1.464</td>
</tr>
<tr class="even">
<td align="center">90908</td>
<td align="center">255960</td>
<td align="center">1.816</td>
</tr>
<tr class="odd">
<td align="center">90908</td>
<td align="center">431622</td>
<td align="center">3.748</td>
</tr>
<tr class="even">
<td align="center">89423</td>
<td align="center">200556</td>
<td align="center">1.243</td>
</tr>
<tr class="odd">
<td align="center">75782</td>
<td align="center">206064</td>
<td align="center">1.719</td>
</tr>
<tr class="even">
<td align="center">75782</td>
<td align="center">154656</td>
<td align="center">1.041</td>
</tr>
<tr class="odd">
<td align="center">75384</td>
<td align="center">201960</td>
<td align="center">1.679</td>
</tr>
<tr class="even">
<td align="center">71235</td>
<td align="center">167400</td>
<td align="center">1.35</td>
</tr>
<tr class="odd">
<td align="center">69568</td>
<td align="center">377298</td>
<td align="center">4.423</td>
</tr>
<tr class="even">
<td align="center">60625</td>
<td align="center">179928</td>
<td align="center">1.968</td>
</tr>
<tr class="odd">
<td align="center">57215</td>
<td align="center">123552</td>
<td align="center">1.159</td>
</tr>
<tr class="even">
<td align="center">56836</td>
<td align="center">135108</td>
<td align="center">1.377</td>
</tr>
<tr class="odd">
<td align="center">54563</td>
<td align="center">115614</td>
<td align="center">1.119</td>
</tr>
<tr class="even">
<td align="center">53047</td>
<td align="center">147150</td>
<td align="center">1.774</td>
</tr>
<tr class="odd">
<td align="center">50013</td>
<td align="center">294030</td>
<td align="center">4.879</td>
</tr>
<tr class="even">
<td align="center">46985</td>
<td align="center">270000</td>
<td align="center">4.747</td>
</tr>
<tr class="odd">
<td align="center">45439</td>
<td align="center">113508</td>
<td align="center">1.498</td>
</tr>
<tr class="even">
<td align="center">45439</td>
<td align="center">218862</td>
<td align="center">3.817</td>
</tr>
<tr class="odd">
<td align="center">45136</td>
<td align="center">239760</td>
<td align="center">4.312</td>
</tr>
<tr class="even">
<td align="center">43499</td>
<td align="center">131328</td>
<td align="center">2.019</td>
</tr>
<tr class="odd">
<td align="center">42408</td>
<td align="center">83538</td>
<td align="center">0.9699</td>
</tr>
<tr class="even">
<td align="center">42286</td>
<td align="center">171072</td>
<td align="center">3.046</td>
</tr>
<tr class="odd">
<td align="center">30282</td>
<td align="center">133812</td>
<td align="center">3.419</td>
</tr>
<tr class="even">
<td align="center">28797</td>
<td align="center">98820</td>
<td align="center">2.432</td>
</tr>
<tr class="odd">
<td align="center">25766</td>
<td align="center">123552</td>
<td align="center">3.795</td>
</tr>
<tr class="even">
<td align="center">23644</td>
<td align="center">299268</td>
<td align="center">11.66</td>
</tr>
</tbody>
</table>
<pre class="r"><code>boston_multifamily_table2 &lt;- boston_multifamily_table %&gt;% 
  select(price, down_payment, projected_mortgage_yr, projected_rental_income_yr, ROI) %&gt;%
  summarise(meanprice = mean(price),
            mean_down_payment = mean(down_payment),
            mean_mortgage = mean(projected_mortgage_yr),
            mean_rent_income = mean(projected_rental_income_yr),
            mean_ROI = mean(ROI))

pander(boston_multifamily_table2)</code></pre>
<table>
<colgroup>
<col width="15%" />
<col width="25%" />
<col width="20%" />
<col width="24%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">meanprice</th>
<th align="center">mean_down_payment</th>
<th align="center">mean_mortgage</th>
<th align="center">mean_rent_income</th>
<th align="center">mean_ROI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">3047271</td>
<td align="center">609454</td>
<td align="center">92371</td>
<td align="center">251562</td>
<td align="center">2.331</td>
</tr>
</tbody>
</table>
<pre class="r"><code>library(plotly)
plot4 &lt;- ggplot(data = boston_multifamily, aes(x = down_return, y = price, 
                                               label = address)) +
  geom_point() +
  geom_smooth()

ggplotly(plot4, tooltip = &#39;label&#39;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"data":[{"x":[20.6181818181818,32.2121739130435,31.3817619783617,39,54.2211428571429,46.379387755102,25.0105263157895,28.3722352941176,24.8914285714286,42.6166007905138,34.9875,46.4603773584906,37.3476086276962,42.6742247415805,71.9609869956652,33.9925423728814,41.2128,30.9312,40.6049975752809,35.6170212765957,82.2,44.982,32.7290066225166,36.0288,32.1150178416766,42.0428571428571,89.1054003272926,87.0967741935484,37.8612408272181,73.0026684456304,80.5104096709201,45.7588850174216,29.8563259471051,61.3161290322581,66.972972972973,52.0105263157895,72.6776470588235,191.838461538462],"y":[13750000,6900000,6470000,5400000,5250000,4900000,4750000,4250000,4200000,3795000,3600000,3445000,3199000,2999000,2999000,2950000,2500000,2500000,2486886,2350000,2295000,2000000,1887500,1875000,1799999,1750000,1649900,1550000,1499000,1499000,1489000,1435000,1399000,1395000,999000,950000,850000,780000],"text":["address: 318 Beacon St, Boston, MA 02116","address: 37 Joy St, Boston, MA 02114","address: 7 Anderson St, Boston, MA 02114","address: 67-69 W Cedar St #71, Boston, MA 02114","address: 44-46 Lexington St, Boston, MA 02128","address: 9R Trenton St, Boston, MA 02128","address: 538 Tremont St #1-4, Boston, MA 02118","address: 47 Revere St, Boston, MA 02114","address: 304 Shawmut Ave, Boston, MA 02118","address: 489 E Broadway, Boston, MA 02127","address: 58 Prince St, Boston, MA 02113","address: 506 E Broadway, Boston, MA 02127","address: 592A E Broadway, Boston, MA 02127","address: 820-824 Huntington Ave, Boston, MA 02115","address: 28-30 Mercer St, Boston, MA 02127","address: 12 O St, Boston, MA 02127","address: 32 Parmenter St, Boston, MA 02113","address: 21 Henchman St, Boston, MA 02113","address: 187 Webster St, Boston, MA 02128","address: 163-165A Salem St, Boston, MA 02113","address: 226-228 Princeton St, Boston, MA 02128","address: 584-586 E Broadway, Boston, MA 02127","address: 222 Calumet St, Boston, MA 02120","address: 46 Sheridan St, Boston, MA 02130","address: 98-100 Marginal St, Boston, MA 02128","address: 853 E 4th St, Boston, MA 02127","address: 951 Blue Hill Ave, Boston, MA 02124","address: 57 Bennington St, Boston, MA 02128","address: 43 School St, Boston, MA 02129","address: 6 Danny Rd, Boston, MA 02136","address: 126 Marion St, Boston, MA 02128","address: 9 Boston St, Boston, MA 02127","address: 465 E 8th St, Boston, MA 02127","address: 3381 Washington St, Boston, MA 02130","address: 87-89 Nottinghill Rd, Boston, MA 02135","address: 3 Magnolia Pl, Boston, MA 02125","address: 21 Forest St #23, Boston, MA 02119","address: 151 Townsend St, Boston, MA 02121"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.6181818181818,22.7855271310967,24.9528724440117,27.1202177569266,29.2875630698415,31.4549083827565,33.6222536956714,35.7895990085864,37.9569443215013,40.1242896344162,42.2916349473311,44.4589802602461,46.626325573161,48.7936708860759,50.9610161989909,53.1283615119058,55.2957068248207,57.4630521377357,59.6303974506506,61.7977427635655,63.9650880764805,66.1324333893954,68.2997787023103,70.4671240152253,72.6344693281402,74.8018146410551,76.9691599539701,79.136505266885,81.3038505798,83.4711958927149,85.6385412056298,87.8058865185448,89.9732318314597,92.1405771443746,94.3079224572895,96.4752677702045,98.6426130831194,100.809958396034,102.977303708949,105.144649021864,107.311994334779,109.479339647694,111.646684960609,113.814030273524,115.981375586439,118.148720899354,120.316066212269,122.483411525184,124.650756838099,126.818102151014,128.985447463928,131.152792776843,133.320138089758,135.487483402673,137.654828715588,139.822174028503,141.989519341418,144.156864654333,146.324209967248,148.491555280163,150.658900593078,152.826245905993,154.993591218908,157.160936531823,159.328281844738,161.495627157652,163.662972470567,165.830317783482,167.997663096397,170.165008409312,172.332353722227,174.499699035142,176.667044348057,178.834389660972,181.001734973887,183.169080286802,185.336425599717,187.503770912632,189.671116225547,191.838461538462],"y":[10620832.0942967,8611321.03766977,6886349.10324381,5452427.31857618,4316066.71122428,3501070.69815106,2994457.48847257,2933980.0726621,2895316.32717034,2823195.55644945,2793449.91318853,2819783.8929282,2825053.33509475,2783520.77807237,2707368.7687903,2606628.63824396,2491331.71742881,2371509.33734028,2257192.8289738,2157861.44350175,2066499.79168097,1979146.94449599,1897795.07026558,1824436.33730852,1761062.91394358,1709666.96848953,1672240.66926515,1650776.18458921,1645833.76236965,1643166.37773081,1638685.12181618,1632466.17849086,1624585.73161994,1615119.96506851,1604145.06270167,1591737.2083845,1577972.58598209,1562927.37935955,1546677.77238196,1529299.94891442,1510870.09282201,1491464.38796983,1471159.01822298,1450030.16744654,1428154.01950561,1405606.75826527,1382464.56759063,1358803.63134678,1334700.1333988,1310230.25761179,1285470.18785084,1260496.10798105,1235384.2018675,1210210.65337529,1185051.64636951,1159983.36471526,1135081.99227762,1110423.71292169,1086084.71051256,1062141.16891533,1038669.27199508,1015745.20361691,993445.147645911,971845.287947174,951021.808385792,931050.892826859,912008.725135466,893971.489176705,877015.368815669,861216.547917451,846651.210347143,833395.539969837,821525.720650626,811117.936254602,802248.370646857,794993.207692485,789428.631256576,785630.825204225,783675.973400522,783640.259710561],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.6181818181818,22.7855271310967,24.9528724440117,27.1202177569266,29.2875630698415,31.4549083827565,33.6222536956714,35.7895990085864,37.9569443215013,40.1242896344162,42.2916349473311,44.4589802602461,46.626325573161,48.7936708860759,50.9610161989909,53.1283615119058,55.2957068248207,57.4630521377357,59.6303974506506,61.7977427635655,63.9650880764805,66.1324333893954,68.2997787023103,70.4671240152253,72.6344693281402,74.8018146410551,76.9691599539701,79.136505266885,81.3038505798,83.4711958927149,85.6385412056298,87.8058865185448,89.9732318314597,92.1405771443746,94.3079224572895,96.4752677702045,98.6426130831194,100.809958396034,102.977303708949,105.144649021864,107.311994334779,109.479339647694,111.646684960609,113.814030273524,115.981375586439,118.148720899354,120.316066212269,122.483411525184,124.650756838099,126.818102151014,128.985447463928,131.152792776843,133.320138089758,135.487483402673,137.654828715588,139.822174028503,141.989519341418,144.156864654333,146.324209967248,148.491555280163,150.658900593078,152.826245905993,154.993591218908,157.160936531823,159.328281844738,161.495627157652,163.662972470567,165.830317783482,167.997663096397,170.165008409312,172.332353722227,174.499699035142,176.667044348057,178.834389660972,181.001734973887,183.169080286802,185.336425599717,187.503770912632,189.671116225547,191.838461538462,191.838461538462,191.838461538462,189.671116225547,187.503770912632,185.336425599717,183.169080286802,181.001734973887,178.834389660972,176.667044348057,174.499699035142,172.332353722227,170.165008409312,167.997663096397,165.830317783482,163.662972470567,161.495627157652,159.328281844738,157.160936531823,154.993591218908,152.826245905993,150.658900593078,148.491555280163,146.324209967248,144.156864654333,141.989519341418,139.822174028503,137.654828715588,135.487483402673,133.320138089758,131.152792776843,128.985447463928,126.818102151014,124.650756838099,122.483411525184,120.316066212269,118.148720899354,115.981375586439,113.814030273524,111.646684960609,109.479339647694,107.311994334779,105.144649021864,102.977303708949,100.809958396034,98.6426130831194,96.4752677702045,94.3079224572895,92.1405771443746,89.9732318314597,87.8058865185448,85.6385412056298,83.4711958927149,81.3038505798,79.136505266885,76.9691599539701,74.8018146410551,72.6344693281402,70.4671240152253,68.2997787023103,66.1324333893954,63.9650880764805,61.7977427635655,59.6303974506506,57.4630521377357,55.2957068248207,53.1283615119058,50.9610161989909,48.7936708860759,46.626325573161,44.4589802602461,42.2916349473311,40.1242896344162,37.9569443215013,35.7895990085864,33.6222536956714,31.4549083827565,29.2875630698415,27.1202177569266,24.9528724440117,22.7855271310967,20.6181818181818,20.6181818181818],"y":[7947456.1912494,6639039.1774981,5437854.17603565,4332633.90309462,3342300.00670795,2563500.49521074,2060047.44233611,1975046.32594068,1922323.58738187,1887136.8158191,1833632.89725608,1800058.50445056,1744782.72401402,1668160.47704248,1547694.74027547,1372371.17208189,1153775.19785677,926539.45041791,736565.143280725,627142.460800634,567695.847166157,529795.65037348,507475.990690561,495461.077927673,488851.992337736,481957.695143395,466110.075555817,427059.112282366,343165.142962881,197657.186477206,12774.514411357,-191010.319421935,-400993.497032749,-609594.204749716,-812286.302970493,-1006337.20074042,-1190085.83340362,-1362530.32718813,-1523087.85038171,-1671450.91915021,-1807498.96987064,-1931242.49778874,-2042786.95987797,-2142309.03171394,-2230040.81682863,-2306259.33054114,-2371279.59428491,-2425450.28892786,-2469151.29514691,-2502792.69008318,-2526814.92637913,-2541690.02376554,-2547923.67302843,-2546058.1979469,-2536676.34806705,-2520405.90574641,-2497925.08359886,-2469968.65939495,-2437334.73802315,-2400891.9350833,-2361586.63282278,-2320449.75488443,-2278602.23362998,-2237258.0050926,-2197722.98624698,-2161388.12888227,-2129714.41857498,-2104207.77023103,-2086382.37695246,-2077712.38258839,-2079573.80723125,-2093181.20273776,-2119525.92469374,-2159324.28857928,-2212983.42811344,-2280590.13848777,-2361923.94044399,-2456491.28278777,-2563574.54808156,-2682288.15455177,-2682288.15455177,4249568.6739729,4130926.4948826,4027752.93319622,3940781.20295714,3870576.55387274,3817480.16940715,3781560.16108849,3762577.36599499,3759972.28267743,3772876.22792554,3800145.47842329,3840413.1145838,3892150.74858444,3953731.86884591,4023489.91453598,4099766.60301857,4180948.58098695,4265492.5289218,4351940.16211825,4438925.17681294,4525174.27291396,4609504.15904828,4690816.08523833,4768089.0681541,4840372.63517692,4906779.64080607,4966479.50469748,5018692.07676343,5062682.23972763,5097755.3020808,5123253.20530676,5138551.5619445,5143057.55162141,5136208.72946617,5117472.84707169,5086348.85583984,5042369.36660702,4985104.99632392,4914171.27372841,4829239.15551465,4730050.81697904,4616443.39514563,4488385.08590723,4346031.0053678,4189811.61750942,4020576.42837383,3839834.13488674,3650164.96027263,3455942.67640366,3264595.72922101,3088675.56898441,2948502.38177641,2874493.25689606,2878371.26297448,2937376.24183566,3033273.83554942,3153411.59668937,3288114.14984061,3428498.23861851,3565303.73619579,3688580.42620286,3777820.51466687,3816479.22426265,3828888.23700086,3840886.10440604,3867042.79730512,3898881.07910226,3905323.94617549,3839509.28140584,3753266.92912098,3759254.2970798,3868309.06695881,3892913.81938352,3928867.53460903,4438640.90109137,5289833.41574061,6572220.73405775,8334844.03045198,10583602.8978415,13294207.9973439,7947456.1912494],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[12.0571678321678,200.399475524476],"tickmode":"array","ticktext":["50","100","150","200"],"tickvals":[50,100,150,200],"categoryorder":"array","categoryarray":["50","100","150","200"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"down_return","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3503902.56227936,14571614.4077276],"tickmode":"array","ticktext":["0e+00","5e+06","1e+07"],"tickvals":[0,5000000,10000000],"categoryorder":"array","categoryarray":["0e+00","5e+06","1e+07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d08f3400e24d":{"x":{},"y":{},"label":{},"type":"scatter"},"d08f260947e7":{"x":{},"y":{},"label":{}}},"cur_data":"d08f3400e24d","visdat":{"d08f3400e24d":["function (y) ","x"],"d08f260947e7":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
