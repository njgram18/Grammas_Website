<script src="Boston Single Family Analysis_files/header-attrs/header-attrs.js"></script>
<script src="Boston Single Family Analysis_files/htmlwidgets/htmlwidgets.js"></script>
<script src="Boston Single Family Analysis_files/plotly-binding/plotly.js"></script>
<script src="Boston Single Family Analysis_files/typedarray/typedarray.min.js"></script>
<script src="Boston Single Family Analysis_files/jquery/jquery.min.js"></script>
<link href="Boston Single Family Analysis_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="Boston Single Family Analysis_files/crosstalk/js/crosstalk.min.js"></script>
<link href="Boston Single Family Analysis_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="Boston Single Family Analysis_files/plotly-main/plotly-latest.min.js"></script>


<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.5     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.4     ✓ stringr 1.4.0
## ✓ readr   2.0.2     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(here)</code></pre>
<pre><code>## here() starts at /Users/nickgrammas/Desktop/website_setup/Grammas_Website</code></pre>
<pre class="r"><code>boston_original_df &lt;- read_csv(here(&quot;Data/zillow-boston.csv&quot;))</code></pre>
<pre><code>## Rows: 836 Columns: 20</code></pre>
<pre><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr   (8): address, street_name, city, rstate, postcode, property_type, prop...
## dbl  (11): property_id, latitude, longitude, price, zestimate, bedroom_numbe...
## dttm  (1): RunDate</code></pre>
<pre><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>##view(boston_original_df)
boston_MA_df &lt;- boston_original_df %&gt;% filter(rstate == &quot;MA&quot;)
boston_MA_df &lt;- boston_MA_df %&gt;% arrange(desc(price))
##view(boston_MA_df)</code></pre>
<pre class="r"><code>boston_add_df &lt;- boston_MA_df %&gt;% mutate(cap_rate = 6915/price) %&gt;%
  filter(!is.na(bedroom_number)) %&gt;% mutate(price_per_bedroom = price/bedroom_number)
boston_add_df</code></pre>
<pre><code>## # A tibble: 766 × 22
##    property_id address     street_name  city  rstate latitude longitude postcode
##          &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
##  1    59166243 30 Chestnu… Chestnut St  Bost… MA         42.4     -71.1 02108   
##  2  2107626553 63 Mount V… Mount Verno… Bost… MA         42.4     -71.1 02108   
##  3    59166308 17 Louisbu… Louisburg Sq Bost… MA         42.4     -71.1 02108   
##  4  2117794141 318 Beacon… Beacon St    Bost… MA         42.4     -71.1 02116   
##  5   333605731 1 Dalton S… Dalton St #… Bost… MA         42.3     -71.1 02115   
##  6    90141410 776 Boylst… Boylston St… Bost… MA         42.3     -71.1 02199   
##  7    59163970 10 Rowes W… Rowes Wharf… Bost… MA         42.4     -71.1 02110   
##  8    90141331 776 Boylst… Boylston St… Bost… MA         42.3     -71.1 02199   
##  9    61319917 2 Avery St… Avery St AP… Bost… MA         42.4     -71.1 02111   
## 10  2075168741 2 Avery St… Avery St AP… Bost… MA         NA        NA   02111   
## # … with 756 more rows, and 14 more variables: price &lt;dbl&gt;, zestimate &lt;dbl&gt;,
## #   bedroom_number &lt;dbl&gt;, bathroom_number &lt;dbl&gt;, price_per_unit &lt;dbl&gt;,
## #   living_space &lt;dbl&gt;, land_space &lt;dbl&gt;, property_type &lt;chr&gt;,
## #   property_status &lt;chr&gt;, agency_name &lt;chr&gt;, zillow_owned &lt;dbl&gt;,
## #   RunDate &lt;dttm&gt;, cap_rate &lt;dbl&gt;, price_per_bedroom &lt;dbl&gt;</code></pre>
<pre class="r"><code>boston_single &lt;- boston_add_df %&gt;% filter(property_type == &quot;SINGLE_FAMILY&quot;) %&gt;%
  mutate(avg_price = sum(price) / 38) %&gt;%
  mutate(projected_rental_income = living_space * 4.50) %&gt;%
  mutate(down_payment = price * .20) %&gt;%
  mutate(principal = price - down_payment) %&gt;%
  mutate(projected_mortgage_payment = ((principal/330) * 1.042)) %&gt;%
  mutate(projected_mortgage_yr = projected_mortgage_payment * 12) %&gt;%
  mutate(projected_rental_income_yr = (projected_rental_income * 12)) %&gt;%
  mutate(ROI = (projected_rental_income_yr - projected_mortgage_yr) / projected_mortgage_yr)

boston_single</code></pre>
<pre><code>## # A tibble: 51 × 30
##    property_id address      street_name city  rstate latitude longitude postcode
##          &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   
##  1    59166243 30 Chestnut… Chestnut St Bost… MA         42.4     -71.1 02108   
##  2    59166308 17 Louisbur… Louisburg … Bost… MA         42.4     -71.1 02108   
##  3    59169848 352 Marlbor… Marlboroug… Bost… MA         42.4     -71.1 02115   
##  4    59174930 31 Chestnut… Chestnut St Bost… MA         42.4     -71.1 02108   
##  5    59174916 9 Chestnut … Chestnut St Bost… MA         42.4     -71.1 02108   
##  6   113389948 69 Hancock … Hancock St  Bost… MA         42.4     -71.1 02114   
##  7  2103780872 71 Hancock … Hancock St  Bost… MA         42.4     -71.1 02114   
##  8   189950691 86 Chestnut… Chestnut St Bost… MA         42.4     -71.1 02108   
##  9    59174448 54 Pinckney… Pinckney St Bost… MA         42.4     -71.1 02114   
## 10    59172993 138 Saint B… Saint Boto… Bost… MA         42.3     -71.1 02115   
## # … with 41 more rows, and 22 more variables: price &lt;dbl&gt;, zestimate &lt;dbl&gt;,
## #   bedroom_number &lt;dbl&gt;, bathroom_number &lt;dbl&gt;, price_per_unit &lt;dbl&gt;,
## #   living_space &lt;dbl&gt;, land_space &lt;dbl&gt;, property_type &lt;chr&gt;,
## #   property_status &lt;chr&gt;, agency_name &lt;chr&gt;, zillow_owned &lt;dbl&gt;,
## #   RunDate &lt;dttm&gt;, cap_rate &lt;dbl&gt;, price_per_bedroom &lt;dbl&gt;, avg_price &lt;dbl&gt;,
## #   projected_rental_income &lt;dbl&gt;, down_payment &lt;dbl&gt;, principal &lt;dbl&gt;,
## #   projected_mortgage_payment &lt;dbl&gt;, projected_mortgage_yr &lt;dbl&gt;, …</code></pre>
<pre class="r"><code>library(plotly)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>plot1 &lt;- ggplot(data = boston_single, aes(x = living_space, y = price, 
                                               label = address)) +
  geom_point() +
  geom_smooth()

ggplotly(plot1, tooltip = &#39;label&#39;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":[8131,7482,4754,8979,5322,5799,5948,3607,3825,5098,3966,3882,3737,3719,4318,4892,3177,3830,3300,4188,5311,3017,4212,1941,3200,2625,1299,2138,1210,1878,1585,2254,2200,2200,1554,1116,1125,1173,1037,1350,1350,511,1088,1000,1004,1067,1464,901,700,1199,980],"y":[16995000,15500000,9750000,8999000,7695000,7599000,6495000,6480000,6350000,5495000,5495000,5450000,4999999,4995000,4950000,4750000,4449000,4250000,3995000,3675000,3400000,3250000,2990000,2795000,2400000,2395000,2263000,2250000,2002000,1699000,1585000,1549000,1399000,1399000,899000,895000,874495,835000,799900,799495,799495,775000,735000,715000,675000,649900,649500,619900,459000,445000,425000],"text":["address: 30 Chestnut St, Boston, MA 02108","address: 17 Louisburg Sq, Boston, MA 02108","address: 352 Marlborough St, Boston, MA 02115","address: 31 Chestnut St, Boston, MA 02108","address: 9 Chestnut St, Boston, MA 02108","address: 69 Hancock St, Boston, MA 02114","address: 71 Hancock St, Boston, MA 02114","address: 86 Chestnut St, Boston, MA 02108","address: 54 Pinckney St, Boston, MA 02114","address: 138 Saint Botolph St, Boston, MA 02115","address: 22 Charles River Sq, Boston, MA 02114","address: 16 Exeter St #1, Boston, MA 02116","address: 27 Hereford St, Boston, MA 02115","address: 730 Tremont St #1, Boston, MA 02118","address: 16 Charles River Sq, Boston, MA 02114","address: 71 Montgomery St, Boston, MA 02116","address: 50 Brimmer St, Boston, MA 02108","address: 9 Claremont Park, Boston, MA 02118","address: 77 Myrtle St, Boston, MA 02114","address: 129 Pinckney St, Boston, MA 02114","address: 551 Columbus Ave, Boston, MA 02118","address: 86 Myrtle St, Boston, MA 02114","address: 13 Hancock St, Boston, MA 02114","address: 28 Irving St, Boston, MA 02114","address: 44 Sullivan St, Boston, MA 02129","address: 66 Revere St, Boston, MA 02114","address: 380 Harrison Ave #1017, Boston, MA 02118","address: 5 Lawrence St, Boston, MA 02116","address: 380 Harrison Ave PENTHOUSE 1L, Boston, MA 02118","address: 15 Hancock St, Boston, MA 02114","address: 6 Kemble Pl, Boston, MA 02127","address: 4 Lexington St, Boston, MA 02129","address: 7 Charles St, Boston, MA 02129","address: 25 Charles St, Boston, MA 02129","address: 88 White St, Boston, MA 02128","address: 84 Everdean St, Boston, MA 02122","address: 181 Coleridge St #3 Plan, Coleridge Coast","address: Lexington Landing - PH 9 Plan, Lexington Landing","address: Lexington Landing - PH 8 Plan, Lexington Landing","address: PENTHOUSE Plan, 38 Lexington St","address: 38 Lexington St, Boston, MA 02128","address: One Bedroom Plan, The Parker","address: Lexington Landing - Unit 306 Plan, Lexington Landing","address: Lexington Landing - Unit 203 Plan, Lexington Landing","address: Lexington Landing - Unit 305 Plan, Lexington Landing","address: Lexington Landing - Unit 202 Plan, Lexington Landing","address: 47 Keystone St, Boston, MA 02132","address: Lexington Landing - Unit 304 Plan, Lexington Landing","address: 28 Bungalow Rd, Boston, MA 02132","address: 2 Presby Pl, Boston, MA 02119","address: 79 Wayland St, Boston, MA 02125"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[511,618.189873417722,725.379746835443,832.569620253165,939.759493670886,1046.94936708861,1154.13924050633,1261.32911392405,1368.51898734177,1475.70886075949,1582.89873417722,1690.08860759494,1797.27848101266,1904.46835443038,2011.6582278481,2118.84810126582,2226.03797468354,2333.22784810127,2440.41772151899,2547.60759493671,2654.79746835443,2761.98734177215,2869.17721518987,2976.36708860759,3083.55696202532,3190.74683544304,3297.93670886076,3405.12658227848,3512.3164556962,3619.50632911392,3726.69620253165,3833.88607594937,3941.07594936709,4048.26582278481,4155.45569620253,4262.64556962025,4369.83544303797,4477.0253164557,4584.21518987342,4691.40506329114,4798.59493670886,4905.78481012658,5012.9746835443,5120.16455696203,5227.35443037975,5334.54430379747,5441.73417721519,5548.92405063291,5656.11392405063,5763.30379746835,5870.49367088608,5977.6835443038,6084.87341772152,6192.06329113924,6299.25316455696,6406.44303797468,6513.6329113924,6620.82278481013,6728.01265822785,6835.20253164557,6942.39240506329,7049.58227848101,7156.77215189873,7263.96202531646,7371.15189873418,7478.3417721519,7585.53164556962,7692.72151898734,7799.91139240506,7907.10126582278,8014.29113924051,8121.48101265823,8228.67088607595,8335.86075949367,8443.05063291139,8550.24050632911,8657.43037974683,8764.62025316456,8871.81012658228,8979],"y":[520203.812730566,570219.623744247,626267.132748426,687739.633382702,754030.419286675,824531.683882015,899247.009631907,979844.004669234,1064908.98318436,1155761.00214069,1254149.44365695,1356017.55194718,1457953.63450122,1563405.46699612,1675823.25537902,1798657.20559705,1935357.52359737,2090047.65375035,2264481.77861764,2455518.78747216,2659857.13403738,2874195.27203676,3095231.65519377,3319664.73723188,3544192.97187455,3765514.81284524,3980328.71386743,4185333.12866458,4377226.51096015,4552707.3144776,4708515.11699625,4851168.9084487,4987729.21067176,5118968.78311498,5245660.38522789,5368121.2700946,5486932.09816653,5605128.36672807,5725868.81387562,5852312.17770561,5987617.19631444,6134942.60779852,6297447.15025427,6478289.5617781,6680628.58046642,6906915.60776516,7139837.59771966,7370780.83290344,7599737.98437722,7826701.72320169,8051664.72043755,8274619.64714551,8495559.17438627,8714475.97322052,8931362.71470897,9146212.06991233,9359016.70989129,9569769.30570654,9778462.52841881,9985089.04908878,10189641.5387772,10392112.6685447,10592495.1094519,10790781.5325598,10986964.6089288,11181037.0096197,11372991.4056933,11562820.4682102,11750516.868231,11936073.2768167,12119482.3650277,12300736.8039248,12479829.2645688,12656752.4180203,12831498.9353401,13004061.4875887,13174432.745827,13342605.3811156,13508572.0645153,13672325.4670867],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[511,618.189873417722,725.379746835443,832.569620253165,939.759493670886,1046.94936708861,1154.13924050633,1261.32911392405,1368.51898734177,1475.70886075949,1582.89873417722,1690.08860759494,1797.27848101266,1904.46835443038,2011.6582278481,2118.84810126582,2226.03797468354,2333.22784810127,2440.41772151899,2547.60759493671,2654.79746835443,2761.98734177215,2869.17721518987,2976.36708860759,3083.55696202532,3190.74683544304,3297.93670886076,3405.12658227848,3512.3164556962,3619.50632911392,3726.69620253165,3833.88607594937,3941.07594936709,4048.26582278481,4155.45569620253,4262.64556962025,4369.83544303797,4477.0253164557,4584.21518987342,4691.40506329114,4798.59493670886,4905.78481012658,5012.9746835443,5120.16455696203,5227.35443037975,5334.54430379747,5441.73417721519,5548.92405063291,5656.11392405063,5763.30379746835,5870.49367088608,5977.6835443038,6084.87341772152,6192.06329113924,6299.25316455696,6406.44303797468,6513.6329113924,6620.82278481013,6728.01265822785,6835.20253164557,6942.39240506329,7049.58227848101,7156.77215189873,7263.96202531646,7371.15189873418,7478.3417721519,7585.53164556962,7692.72151898734,7799.91139240506,7907.10126582278,8014.29113924051,8121.48101265823,8228.67088607595,8335.86075949367,8443.05063291139,8550.24050632911,8657.43037974683,8764.62025316456,8871.81012658228,8979,8979,8979,8871.81012658228,8764.62025316456,8657.43037974683,8550.24050632911,8443.05063291139,8335.86075949367,8228.67088607595,8121.48101265823,8014.29113924051,7907.10126582278,7799.91139240506,7692.72151898734,7585.53164556962,7478.3417721519,7371.15189873418,7263.96202531646,7156.77215189873,7049.58227848101,6942.39240506329,6835.20253164557,6728.01265822785,6620.82278481013,6513.6329113924,6406.44303797468,6299.25316455696,6192.06329113924,6084.87341772152,5977.6835443038,5870.49367088608,5763.30379746835,5656.11392405063,5548.92405063291,5441.73417721519,5334.54430379747,5227.35443037975,5120.16455696203,5012.9746835443,4905.78481012658,4798.59493670886,4691.40506329114,4584.21518987342,4477.0253164557,4369.83544303797,4262.64556962025,4155.45569620253,4048.26582278481,3941.07594936709,3833.88607594937,3726.69620253165,3619.50632911392,3512.3164556962,3405.12658227848,3297.93670886076,3190.74683544304,3083.55696202532,2976.36708860759,2869.17721518987,2761.98734177215,2654.79746835443,2547.60759493671,2440.41772151899,2333.22784810127,2226.03797468354,2118.84810126582,2011.6582278481,1904.46835443038,1797.27848101266,1690.08860759494,1582.89873417722,1475.70886075949,1368.51898734177,1261.32911392405,1154.13924050633,1046.94936708861,939.759493670886,832.569620253165,725.379746835443,618.189873417722,511,511],"y":[-1323180.10769725,-969112.305705049,-645314.446264291,-358827.579856839,-117690.586050207,71018.2167985019,205669.413680732,294268.021052513,352396.834423989,396793.652401853,440593.776137123,491729.875284161,547199.908970655,601309.359627457,656450.999237841,725540.905853455,828228.121916664,979747.922081005,1173171.58263627,1400255.19790214,1651886.96760057,1918141.33404767,2188735.20513686,2453790.60167482,2705017.96371518,2937047.22124707,3148190.22632752,3340041.84587744,3516122.83310915,3680315.43661834,3835603.64816932,3987333.43697529,4133663.08607161,4271115.77261595,4402126.32813314,4530745.81265287,4655063.05580197,4775604.26262791,4893783.38592316,5011892.622263,5133214.52057671,5261959.79317118,5403053.06389018,5561833.35942395,5743736.21894612,5953158.74301904,6170695.86510771,6386534.42325945,6600832.32702042,6813673.81789112,7025073.8882317,7234981.84164847,7443284.05770529,7649806.14867457,7854314.79032541,8056519.58374963,8256075.36354014,8452585.40338796,8645605.97006861,8834652.62273679,9019208.52857543,9198734.85837829,9372683.04434112,9540508.36007085,9701683.97827115,9855714.44857679,10002147.4837142,10140583.0807793,10270679.3190398,10392154.5989211,10504786.5224419,10608407.9709561,10702901.1518863,10788190.4475833,10864234.8311763,10931020.4629621,10988553.8962658,11036856.1433725,11075957.7041495,11105894.5518417,11105894.5518417,16238756.3823317,15941186.424881,15648354.6188588,15360311.5953882,15077102.5122154,14798763.0395038,14525314.3884574,14256757.3772514,13993065.6368936,13734178.2076134,13479991.9547122,13230354.4174223,12985057.855641,12743835.3276724,12506359.5706627,12272245.2395864,12041054.7050487,11812307.1745628,11585490.478711,11360074.5489789,11135525.4754408,10911319.086769,10686953.2080251,10461958.0562424,10235904.556075,10008410.6390925,9779145.79776647,9547834.29106725,9314257.45264255,9078255.5526434,8839729.62851226,8598643.64173402,8355027.24254744,8108979.3303316,7860672.47251129,7617520.94198672,7394745.76413225,7191841.23661836,7007925.42242586,6842019.87205217,6692731.73314822,6557954.24182809,6434652.47082823,6318801.1405311,6205496.72753633,6089194.44232263,5966821.793614,5841795.33527191,5715004.37992212,5581426.58582319,5425099.19233687,5238330.18881114,5030624.41145171,4812467.20140734,4593982.40444341,4383367.98003391,4185538.87278894,4001728.10525069,3830249.21002585,3667827.30047419,3510782.37704218,3355791.97459901,3200347.38541969,3042486.92527808,2871773.50534065,2695195.51152019,2525501.57436478,2368707.36003179,2220305.22861021,2067705.11117677,1914728.35187952,1777421.13194473,1665419.98828596,1592824.60558308,1578045.15096553,1625751.42462356,1734306.84662224,1897848.71176114,2109551.55319354,2363587.73315839,-1323180.10769725],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":66.4840182648402},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[87.6,9402.4],"tickmode":"array","ticktext":["2500","5000","7500"],"tickvals":[2500,5000,7500],"categoryorder":"array","categoryarray":["2500","5000","7500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"living_space","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2239089.11308212,17910909.0053849],"tickmode":"array","ticktext":["0.0e+00","5.0e+06","1.0e+07","1.5e+07"],"tickvals":[0,5000000,10000000,15000000],"categoryorder":"array","categoryarray":["0.0e+00","5.0e+06","1.0e+07","1.5e+07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d1b86b3b80f":{"x":{},"y":{},"label":{},"type":"scatter"},"d1b8f8e439":{"x":{},"y":{},"label":{}}},"cur_data":"d1b86b3b80f","visdat":{"d1b86b3b80f":["function (y) ","x"],"d1b8f8e439":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>plot2 &lt;- ggplot(data = boston_single, aes(x = price, y = projected_rental_income, 
                                               label = address)) +
  geom_point() +
  geom_smooth()
ggplotly(plot2, tooltip = &#39;label&#39;)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":[{"x":[16995000,15500000,9750000,8999000,7695000,7599000,6495000,6480000,6350000,5495000,5495000,5450000,4999999,4995000,4950000,4750000,4449000,4250000,3995000,3675000,3400000,3250000,2990000,2795000,2400000,2395000,2263000,2250000,2002000,1699000,1585000,1549000,1399000,1399000,899000,895000,874495,835000,799900,799495,799495,775000,735000,715000,675000,649900,649500,619900,459000,445000,425000],"y":[36589.5,33669,21393,40405.5,23949,26095.5,26766,16231.5,17212.5,22941,17847,17469,16816.5,16735.5,19431,22014,14296.5,17235,14850,18846,23899.5,13576.5,18954,8734.5,14400,11812.5,5845.5,9621,5445,8451,7132.5,10143,9900,9900,6993,5022,5062.5,5278.5,4666.5,6075,6075,2299.5,4896,4500,4518,4801.5,6588,4054.5,3150,5395.5,4410],"text":["address: 30 Chestnut St, Boston, MA 02108","address: 17 Louisburg Sq, Boston, MA 02108","address: 352 Marlborough St, Boston, MA 02115","address: 31 Chestnut St, Boston, MA 02108","address: 9 Chestnut St, Boston, MA 02108","address: 69 Hancock St, Boston, MA 02114","address: 71 Hancock St, Boston, MA 02114","address: 86 Chestnut St, Boston, MA 02108","address: 54 Pinckney St, Boston, MA 02114","address: 138 Saint Botolph St, Boston, MA 02115","address: 22 Charles River Sq, Boston, MA 02114","address: 16 Exeter St #1, Boston, MA 02116","address: 27 Hereford St, Boston, MA 02115","address: 730 Tremont St #1, Boston, MA 02118","address: 16 Charles River Sq, Boston, MA 02114","address: 71 Montgomery St, Boston, MA 02116","address: 50 Brimmer St, Boston, MA 02108","address: 9 Claremont Park, Boston, MA 02118","address: 77 Myrtle St, Boston, MA 02114","address: 129 Pinckney St, Boston, MA 02114","address: 551 Columbus Ave, Boston, MA 02118","address: 86 Myrtle St, Boston, MA 02114","address: 13 Hancock St, Boston, MA 02114","address: 28 Irving St, Boston, MA 02114","address: 44 Sullivan St, Boston, MA 02129","address: 66 Revere St, Boston, MA 02114","address: 380 Harrison Ave #1017, Boston, MA 02118","address: 5 Lawrence St, Boston, MA 02116","address: 380 Harrison Ave PENTHOUSE 1L, Boston, MA 02118","address: 15 Hancock St, Boston, MA 02114","address: 6 Kemble Pl, Boston, MA 02127","address: 4 Lexington St, Boston, MA 02129","address: 7 Charles St, Boston, MA 02129","address: 25 Charles St, Boston, MA 02129","address: 88 White St, Boston, MA 02128","address: 84 Everdean St, Boston, MA 02122","address: 181 Coleridge St #3 Plan, Coleridge Coast","address: Lexington Landing - PH 9 Plan, Lexington Landing","address: Lexington Landing - PH 8 Plan, Lexington Landing","address: PENTHOUSE Plan, 38 Lexington St","address: 38 Lexington St, Boston, MA 02128","address: One Bedroom Plan, The Parker","address: Lexington Landing - Unit 306 Plan, Lexington Landing","address: Lexington Landing - Unit 203 Plan, Lexington Landing","address: Lexington Landing - Unit 305 Plan, Lexington Landing","address: Lexington Landing - Unit 202 Plan, Lexington Landing","address: 47 Keystone St, Boston, MA 02132","address: Lexington Landing - Unit 304 Plan, Lexington Landing","address: 28 Bungalow Rd, Boston, MA 02132","address: 2 Presby Pl, Boston, MA 02119","address: 79 Wayland St, Boston, MA 02125"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[425000,634746.835443038,844493.670886076,1054240.50632911,1263987.34177215,1473734.17721519,1683481.01265823,1893227.84810127,2102974.6835443,2312721.51898734,2522468.35443038,2732215.18987342,2941962.02531646,3151708.86075949,3361455.69620253,3571202.53164557,3780949.36708861,3990696.20253165,4200443.03797468,4410189.87341772,4619936.70886076,4829683.5443038,5039430.37974684,5249177.21518987,5458924.05063291,5668670.88607595,5878417.72151899,6088164.55696203,6297911.39240506,6507658.2278481,6717405.06329114,6927151.89873418,7136898.73417722,7346645.56962025,7556392.40506329,7766139.24050633,7975886.07594937,8185632.9113924,8395379.74683544,8605126.58227848,8814873.41772152,9024620.25316456,9234367.08860759,9444113.92405063,9653860.75949367,9863607.59493671,10073354.4303797,10283101.2658228,10492848.1012658,10702594.9367089,10912341.7721519,11122088.6075949,11331835.443038,11541582.278481,11751329.1139241,11961075.9493671,12170822.7848101,12380569.6202532,12590316.4556962,12800063.2911392,13009810.1265823,13219556.9620253,13429303.7974684,13639050.6329114,13848797.4683544,14058544.3037975,14268291.1392405,14478037.9746835,14687784.8101266,14897531.6455696,15107278.4810127,15317025.3164557,15526772.1518987,15736518.9873418,15946265.8227848,16156012.6582278,16365759.4936709,16575506.3291139,16785253.164557,16995000],"y":[4225.74962724602,4813.75083998277,5445.12861912699,6127.44462192582,6855.39130496606,7618.9256628407,8421.50075664817,9290.80769399199,10198.7895582424,11112.6741642998,12011.0708181874,12912.619643606,13802.6406774995,14662.063297007,15471.8168792675,16212.8308014201,16866.0344406039,17412.3571739579,17809.511916832,18078.1673313677,18298.6317323351,18551.2305979451,18913.2490622565,19334.2503433804,19767.9381469047,20216.1077338521,20680.5543652451,21163.0733021064,21665.4598054587,22189.4447400032,22716.815646642,23232.2935489996,23735.9583095185,24227.8897906413,24708.1678548104,25176.8723644683,25634.0831820573,26079.8801700201,26514.3431907991,26937.5521068367,27349.5867805755,27750.5270744578,28140.4528509262,28519.4439724231,28887.5803013911,29244.9417002725,29591.6080315098,29927.6591575456,30253.1749408222,30568.2352437822,30872.919928868,31167.3088585222,31451.481895187,31725.5189013052,31989.499739319,32243.5042716711,32487.6123608037,32721.9038691595,32946.4586591809,33161.3565933104,33366.6775339904,33562.5013436634,33748.9078847719,33925.9770197583,34093.7886110651,34252.4225211349,34401.9586124099,34542.4767473329,34674.0567883461,34796.7785978921,34910.7220384133,35015.9669723523,35112.5932621514,35200.6807702532,35280.3093591001,35351.5588911346,35414.5092287992,35469.2402345363,35515.8317707884,35554.3636999981],"text":"","type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[425000,634746.835443038,844493.670886076,1054240.50632911,1263987.34177215,1473734.17721519,1683481.01265823,1893227.84810127,2102974.6835443,2312721.51898734,2522468.35443038,2732215.18987342,2941962.02531646,3151708.86075949,3361455.69620253,3571202.53164557,3780949.36708861,3990696.20253165,4200443.03797468,4410189.87341772,4619936.70886076,4829683.5443038,5039430.37974684,5249177.21518987,5458924.05063291,5668670.88607595,5878417.72151899,6088164.55696203,6297911.39240506,6507658.2278481,6717405.06329114,6927151.89873418,7136898.73417722,7346645.56962025,7556392.40506329,7766139.24050633,7975886.07594937,8185632.9113924,8395379.74683544,8605126.58227848,8814873.41772152,9024620.25316456,9234367.08860759,9444113.92405063,9653860.75949367,9863607.59493671,10073354.4303797,10283101.2658228,10492848.1012658,10702594.9367089,10912341.7721519,11122088.6075949,11331835.443038,11541582.278481,11751329.1139241,11961075.9493671,12170822.7848101,12380569.6202532,12590316.4556962,12800063.2911392,13009810.1265823,13219556.9620253,13429303.7974684,13639050.6329114,13848797.4683544,14058544.3037975,14268291.1392405,14478037.9746835,14687784.8101266,14897531.6455696,15107278.4810127,15317025.3164557,15526772.1518987,15736518.9873418,15946265.8227848,16156012.6582278,16365759.4936709,16575506.3291139,16785253.164557,16995000,16995000,16995000,16785253.164557,16575506.3291139,16365759.4936709,16156012.6582278,15946265.8227848,15736518.9873418,15526772.1518987,15317025.3164557,15107278.4810127,14897531.6455696,14687784.8101266,14478037.9746835,14268291.1392405,14058544.3037975,13848797.4683544,13639050.6329114,13429303.7974684,13219556.9620253,13009810.1265823,12800063.2911392,12590316.4556962,12380569.6202532,12170822.7848101,11961075.9493671,11751329.1139241,11541582.278481,11331835.443038,11122088.6075949,10912341.7721519,10702594.9367089,10492848.1012658,10283101.2658228,10073354.4303797,9863607.59493671,9653860.75949367,9444113.92405063,9234367.08860759,9024620.25316456,8814873.41772152,8605126.58227848,8395379.74683544,8185632.9113924,7975886.07594937,7766139.24050633,7556392.40506329,7346645.56962025,7136898.73417722,6927151.89873418,6717405.06329114,6507658.2278481,6297911.39240506,6088164.55696203,5878417.72151899,5668670.88607595,5458924.05063291,5249177.21518987,5039430.37974684,4829683.5443038,4619936.70886076,4410189.87341772,4200443.03797468,3990696.20253165,3780949.36708861,3571202.53164557,3361455.69620253,3151708.86075949,2941962.02531646,2732215.18987342,2522468.35443038,2312721.51898734,2102974.6835443,1893227.84810127,1683481.01265823,1473734.17721519,1263987.34177215,1054240.50632911,844493.670886076,634746.835443038,425000,425000],"y":[1798.77406580459,2982.42130428098,3931.69993402444,4659.96212144623,5263.43299813753,5842.40683318616,6472.61740540118,7223.33270410202,8047.53516394149,8910.48366460626,9816.49304969033,10793.5413378627,11771.0397966712,12674.8455627906,13459.0568206587,14121.1275047683,14691.5323103342,15209.2656420956,15661.0555395269,16010.1134995463,16277.3207210162,16534.9905939521,16900.6196914409,17337.2134198498,17782.0051976692,18228.9650581095,18677.7208060186,19133.6595841018,19606.1324441125,20105.1241317936,20604.2062041488,21080.0456002042,21535.1104436383,21971.6781530216,22391.782058999,22797.1931016076,23189.4253175731,23569.7550298857,23939.2462413839,24298.7773515512,24649.0663866729,24990.6933578626,25324.1192447971,25649.7016003449,25967.7070198639,26278.3208196923,26581.6542892734,26877.749862041,27166.5845161612,27448.0716813771,27722.0619001305,27988.3424738999,28246.6363213817,28496.6002846652,28737.8231428824,28969.8236288129,29192.0487898806,29403.8730858955,29604.5986637865,29793.4572828914,29969.6143681079,30132.1756250576,30280.1965445616,30412.694941474,30528.6664146266,30627.1022966168,30707.0093209581,30767.4299244111,30807.4618876283,30826.2759541577,30823.1301880907,30797.3801278188,30748.4842206476,30676.0045040463,30579.6029489929,30459.0342280227,30314.1358741818,30144.8168512669,29951.0454838771,29732.837538244,29732.837538244,41375.8898617521,41080.6180576998,40793.6636178057,40514.8825834166,40244.0835542465,39981.0157692073,39725.3570364601,39476.7023036552,39234.5538168857,38998.3138887359,38767.2812416264,38540.6516890639,38317.5235702546,38096.9079038617,37877.7427456529,37658.9108075036,37439.2590980426,37217.6192249821,36992.8270622692,36763.7406998729,36529.2559037294,36288.3186545753,36039.9346524236,35783.1759317269,35517.1849145293,35241.1763357557,34954.4375179451,34656.3274689924,34346.2752431445,34023.7779576056,33688.3988061873,33339.7653654832,32977.5684530501,32601.5617737462,32211.5625808526,31807.4535829182,31389.1863445014,30956.7864570553,30510.360791053,30050.107174478,29576.3268621222,29089.4401402144,28590.0053101545,28078.7410465416,27556.551627329,27024.5536506218,26484.101428261,25936.8061753987,25384.5414977949,24829.4250891351,24273.7653482128,23724.7871668048,23192.487020111,22683.3879244715,22203.2504095946,21753.8710961403,21331.287266911,20925.8784330722,20567.4706019381,20319.942743654,20146.2211631891,19957.9682941371,19615.4487058201,19040.5365708736,18304.5340980719,17484.5769378763,16649.2810312235,15834.2415583278,15031.6979493494,14205.6485866845,13314.8646639934,12350.0439525433,11358.282683882,10370.3841078952,9395.44449249525,8447.34961179459,7594.9271224054,6958.55730422954,6645.08037568455,6652.72518868744,1798.77406580459],"text":"","type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-403500,17823500],"tickmode":"array","ticktext":["0.0e+00","5.0e+06","1.0e+07","1.5e+07"],"tickvals":[5.82076609134674e-11,5000000,10000000,15000000],"categoryorder":"array","categoryarray":["0.0e+00","5.0e+06","1.0e+07","1.5e+07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-180.081723992781,43354.7456515494],"tickmode":"array","ticktext":["0","10000","20000","30000","40000"],"tickvals":[2.8421709430404e-14,10000,20000,30000,40000],"categoryorder":"array","categoryarray":["0","10000","20000","30000","40000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"projected_rental_income","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"d1b84a5755c8":{"x":{},"y":{},"label":{},"type":"scatter"},"d1b82bc0e399":{"x":{},"y":{},"label":{}}},"cur_data":"d1b84a5755c8","visdat":{"d1b84a5755c8":["function (y) ","x"],"d1b82bc0e399":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>library(pander)
boston_single_table &lt;- boston_single %&gt;% 
  select(price, down_payment, projected_mortgage_yr, projected_rental_income_yr, ROI) %&gt;%
  summarise(meanprice = mean(price),
            mean_down_payment = mean(down_payment),
            mean_mortgage = mean(projected_mortgage_yr),
            mean_rent_income = mean(projected_rental_income_yr),
            mean_ROI = mean(ROI))

pander(boston_single_table)</code></pre>
<table>
<colgroup>
<col width="15%" />
<col width="25%" />
<col width="20%" />
<col width="24%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">meanprice</th>
<th align="center">mean_down_payment</th>
<th align="center">mean_mortgage</th>
<th align="center">mean_rent_income</th>
<th align="center">mean_ROI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">3564582</td>
<td align="center">712916</td>
<td align="center">108052</td>
<td align="center">160563</td>
<td align="center">1.04</td>
</tr>
</tbody>
</table>
